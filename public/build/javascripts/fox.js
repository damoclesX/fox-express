/*! created by chhuangxiaolong@jd.com */
webpackJsonp([4],{0:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=a(1),s=i(n),r=a(3),o=i(r),l=a(6),u=i(l),d=a(7),c=(i(d),a(21)),f=(i(c),a(24)),h=i(f),p=a(25),m=i(p),g=a(44),y=(i(g),a(18)),v=(i(y),a(45)),x=(i(v),a(53)),w=i(x),T=a(5);window.$=s.default,(0,u.default)(),o.default.headerInit(),(0,h.default)(),(0,m.default)();var _=new w.default(JSON.parse(T.queryUrl(decodeURIComponent(window.location.href)).str),640);(0,s.default)("#scroller").append(_.init())},7:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){if(!c.default.CONFIG.SCROLL_OBJ){var t,e,a=(0,o.default)("#red-nav"),i=(0,o.default)("#scroll-view"),n=(0,o.default)("#jd-nav"),r=(0,o.default)("body");(0,o.default)(window).scroll(function(){t=r.scrollTop(),e=n.height(),(0,o.default)(".red-nav-box").length&&(t>=e?(a.addClass("fix-top"),i.addClass("pt60")):t<e&&(a.removeClass("fix-top"),i.removeClass("pt60")))})}var l=(0,o.default)(".red-nav-box"),d=new u.default(".red-mobile-nav",{slidesPerView:"auto",loop:!1,preventClicks:!0,freeMode:!0,freeModeSticky:!0,onClick:function(t){},onInit:function(t){var e=(0,o.default)(".swiper-slide.active",l).get(0);e&&s(t,e,l,0)}});"jdapp"!=c.default.CONFIG.VS&&(0,o.default)(window).bind("orientationchange",function(){var t=(0,o.default)(".swiper-slide.active",l).get(0);t&&((0,h.default)(d),s(d,t,l,0))})}function s(t,e,a,i){var n=(0,o.default)(".nav-fix-item"),s=parseInt(a.width()/2,10),r=e.offsetLeft+n.width(),l=t.maxTranslate(),u=t.minTranslate(),d=s-r-e.offsetWidth/2;d>u?d=u:d<l&&(d=l),t.setWrapperTransition(i),t.setWrapperTranslate(d)}var r=a(1),o=i(r),l=a(8),u=i(l),d=a(2),c=i(d),f=a(9),h=i(f);t.exports={init:n}},24:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){var t,e=(0,o.default)(".item"),a=(0,o.default)("#go-top"),i=(0,o.default)("#count"),n=(0,o.default)("#now"),r=(0,o.default)("#back"),d=(0,o.default)("#total"),c=l.GLOBAL.SCROLL_OBJ;if(!l.CONFIG.ANIMA_SCROLL){var f,h;return(0,o.default)("#go-top").click(function(){(0,o.default)(window).scrollTop(0)}),void(0,o.default)(window).bind("scroll",function(){f=(0,o.default)(window).scrollTop(),h=(0,o.default)(window).height(),f>=h?a.removeClass("none"):a.addClass("none")})}if(c){s(),d.text(e.length),a.click(function(){a.find(".back").hasClass("none")||(c.scrollTo(0,!0),a.addClass("none"))}),c.addScrollstartHandler(function(){e=(0,o.default)(".item"),t=c.getViewHeight(),s()});var p=0,m=0;c.addScrollingHandler(function(){var e=c.getScrollTop();u[m]&&e>=u[m].top-t&&(m++,m>u.length&&(m=u.length));var s=m-1;u[s]&&e<=u[s].top-t&&m--;var o=m;o<=0&&(o=1),o!=p&&(n.text(o),p=o),o>=8?a.removeClass("none"):a.addClass("none"),i.removeClass("none"),r.addClass("none")}),c.addScrollendHandler(function(){var t=m;t<=0&&(t=1),t>=8?a.removeClass("none"):a.addClass("none"),i.addClass("none"),r.removeClass("none")})}}function s(){var t=(0,o.default)("#scroller"),e=(0,o.default)(".item");u.length=0,e.each(function(e,a){var i=(0,o.default)(this).offset().top-t.offset().top+(0,o.default)(this).height();u.push({top:i,index:e+1})})}var r=a(1),o=i(r),l=a(2),u=[];t.exports=n},25:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){return l.default.CONFIG.ANIMA_SCROLL?void(l.default.GLOBAL.SCROLL_OBJ&&(l.default.GLOBAL.LAZY=d.default.animaScrollLazy.init({iscroller:l.default.GLOBAL.SCROLL_OBJ,load_sucess:function(t){var e=(0,r.default)(t).closest(".item"),a=e.find("img[data-logo-layzr]"),i=a.attr("data-logo-layzr");if(i){var n=new Image;n.onload=function(){a.attr("src",i)},n.src=i}},loadData:function(t){}}))):void(l.default.GLOBAL.LAZY=d.default.lazy.init({load_sucess:function(t){var e=(0,r.default)(t).closest(".item"),a=e.find("img[data-logo-layzr]"),i=a.attr("data-logo-layzr");if((0,r.default)(t).addClass("fadeIn"),i){var n=new Image;n.onload=function(){a.attr("src",i)},n.src=i}},loadData:function(t){}}))}var s=a(1),r=i(s),o=a(2),l=i(o),u=a(26),d=i(u),c=a(27);i(c);t.exports=n},26:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=a(1),s=i(n),r=a(2),o=i(r),l={init:function(t){var e=this,a={anim:!0};return s.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,s.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,s.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,s.default)(this))})},act:function(t){var e=(0,s.default)(t),a=this;if(!e.attr("loaded")){var i=new Image,n=e.attr("data-layzr");a.op.srcTransform&&a.op.srcTransform(n,t)&&(n=a.op.srcTransform(n,t)),i.onload=function(){e.attr("src",n).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t,!0,i)},i.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t,!1,i)},n&&(i.src=n),e.attr("loaded",!0)}},inViewport:function(t){var e=window.pageYOffset-o.default.CONFIG.PRE_LOAD,a=window.pageYOffset+window.innerHeight+o.default.CONFIG.PRE_LOAD,i=(0,s.default)(t).offset().top,n=i+(0,s.default)(t).height();return i>=e&&n<=a},refreshImg:function(){this.img.imgs=(0,s.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,s.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,s.default)("img[data-layzr]"),dataItem:(0,s.default)("*[data-xhr-layzr]"),init:function(t){var e=this,a=null;return(0,s.default)(window).bind("scroll",function(){clearTimeout(a),a=setTimeout(function(){l.img_each(e.imgs),l.dataEach(e.dataItem)},300)}),l.img_each(e.imgs),l.dataEach(e.dataItem),l}}},u={init:function(t){var e=this,a={anim:!0};return s.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,s.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,s.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,s.default)(this))})},act:function(t){var e=(0,s.default)(t),a=this;if(!e.attr("loaded")){var i=new Image,n=e.attr("data-layzr");i.onload=function(){e.attr("src",n).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t)},i.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t)},n&&(i.src=n),e.attr("loaded",!0)}},inViewport:function(t){var e=(0,s.default)(t),a=this.img.scroll_view.offset().top-o.default.CONFIG.PRE_LOAD,i=this.img.scroll_view.offset().top+this.op.iscroller.getViewHeight()+o.default.CONFIG.PRE_LOAD,n=e.offset().top,r=n+e.height();return r<=i&&n>=a},refreshImg:function(){this.img.imgs=(0,s.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,s.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,s.default)("img[data-layzr]"),dataItem:(0,s.default)("*[data-xhr-layzr]"),scroll_view:(0,s.default)("#scroll-view"),init:function(t){var e=this;return t.iscroller.addScrollendHandler(function(){u.img_each(e.imgs),u.dataEach(e.dataItem)}),u.img_each(e.imgs),u.dataEach(e.dataItem),u}}};t.exports={lazy:l,animaScrollLazy:u}},27:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var e,a=0,i=t.attr("data-skus"),n=t.attr("data-xhr-layzr");"loading"!=n&&"loaded"!=n&&(t.attr("data-xhr-layzr","loading"),e=(0,u.default)(t.find(".swiper-container")),p.getPriceData(i,function(n){m.renderActPrice(n,i,t),a++,2==a&&s(t,e)}),p.getStockData(i,function(i){m.renderStock(i,t),a++,2==a&&s(t,e)}))}function s(t,e){var a=t.find("li[data-goods-id]");if(a.length>8)for(var i=a.length;i>8;i--)a.eq(i-1).remove();(0,o.default)(this).find("li[data-goods-id]").length<=c.default.CONFIG.ACTGOODS_MIN&&((0,o.default)(this).prev(".item").addClass("mb10"),(0,o.default)(this).remove()),(0,h.default)(e),c.default.GLOBAL.SCROLL_OBJ&&c.default.GLOBAL.SCROLL_OBJ.refresh(),t.attr("data-xhr-layzr","loaded")}var r=a(1),o=i(r),l=a(28),u=i(l),d=a(2),c=i(d),f=a(9),h=i(f),p=a(13),m=a(15);t.exports=n},28:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var e=Swiper(t,{loop:!1,slidesPerView:"auto",freeMode:!0,preventClicks:!0,freeModeSticky:!0,freeModeMomentumRatio:.2,onInit:function(){},onClick:function(t){window.location.href=(0,r.default)(t.clickedSlide).find("a").attr("_href")}});return(0,r.default)(t).find("a").each(function(t,e){var a=(0,r.default)(this).attr("href");(0,r.default)(this).attr("_href",a).attr("href","javascript:;")}),"jdapp"!=l.default.CONFIG.VS&&(0,r.default)(window).bind("orientationchange",function(){var t=(0,r.default)("#goods-rec-wrapper li"),a=document.documentElement.clientWidth;t.css("width",Math.ceil(a/3.5)),(0,d.default)(e)}),e}var s=a(1),r=i(s),o=a(2),l=i(o),u=a(9),d=i(u);t.exports=n},44:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),r=a(1),o=i(r),l=a(5),u=function(){function t(e){n(this,t),this.opts=e,this.timerBox=e.timerBox,this.disTime=parseInt(e.timerBox.attr("data-time"),10),this.timer=null}return s(t,[{key:"_run",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this._runFuc(),this.timer=setInterval(this._runFuc.bind(this),1e3)}},{key:"_runFuc",value:function(){var t=l.timeTransform(this.disTime/1e3);(0,o.default)(".hour",this.timerBox).eq(0).text(t.hour),(0,o.default)(".minute",this.timerBox).eq(0).text(t.min),(0,o.default)(".second",this.timerBox).eq(0).text(t.sec),this.disTime-=1e3,this.disTime<0&&(clearInterval(this.timer),this.timer=null,this.opts.timeUp&&this.opts.timeUp())}}]),t}();t.exports=u},45:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),r=a(1),o=i(r),l=a(2),u=(i(l),a(13)),d=a(15),c=function(){function t(){n(this,t)}return s(t,null,[{key:"getNotifyStatus",value:function(){u.getActNotifyStatus(function(t){d.renderActNotifyStatus(t)})}},{key:"notifyEventBind",value:function(){(0,o.default)(".schedule-btn").click(function(){var t=this;"false"!=(0,o.default)(this).attr("update")&&u.notifySwitchRequest((0,o.default)(t),function(e){d.renderNotifyResult((0,o.default)(t),e)})})}}]),t}();t.exports=c},53:function(t,e,a){function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n;!function(i,s){n=function(){return s(i)}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))}("undefined"!=typeof window?window:void 0,function(t){function e(t){this.opts=t,this.disTime=t.disTime,this.numberDouble=t.numberDouble,this.timer=null}function a(t,e){this.boxWidth=e,this.opts=t,this.file=null,this.proportion=1}var n={_run:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this._runFuc(),this.timer=setInterval(this._runFuc.bind(this),100)},_runFuc:function(){if(this.disTime<0)return clearInterval(this.timer),this.timer=null,void(this.opts.timeUp&&this.opts.timeUp());var t=r.msTransform(this.disTime,this.numberDouble);this.opts.run(t),this.disTime-=100},_refresh:function(t){this.disTime=t,this._run()}};e.prototype=n;var s={init:function(){return this.createFile(),this.createModule(),this.file},createFile:function(){var t;this.file=document.createElement("div"),this.file.id="fox"+this.opts.id,this.file.setAttribute("data-name",this.opts.fileName),this.proportion=this.boxWidth/this.opts.width,r.css(this.file,(t={width:this.boxWidth+"px",height:this.opts.height*this.proportion+"px",margin:"0 auto",position:"relative",padding:0},i(t,"margin",0),i(t,"overflow","hidden"),i(t,"backgroundColor",this.opts.fileBg.isTransport?"transparent":this.opts.fileBg.bgColor),t))},createModule:function(){for(var t=this.opts.modules,e=0;e<t.length;e++)switch(t[e].type){case"picture":this.createPicture(t[e]);break;case"tick":this.createTick(t[e]);break;case"mapArea":this.createMapArea(t[e])}},createPicture:function(t){var e=document.createElement("div"),a="",i="";t.lazyLoad?(a=t.imgUrl,e.setAttribute("data-xhr-layzr",!0)):(i=t.imgUrl,e.setAttribute("data-xhr-layzr",!1));var n='<img src="'+t.imgUrl+'" style="display: block; width: 100%; height: 100%; outline: none;">',s="position: absolute; width: "+this.sizeTransForm(t.width)+"px; z-index: "+t.index+"; height: "+this.sizeTransForm(t.height)+"px; left: "+this.sizeTransForm(t.left)+"px; top: "+this.sizeTransForm(t.top)+"px;";e.style=s,e.id="fox-module"+t.id,e.innerHTML=n,this.file.appendChild(e)},createTick:function(t){var a=document.createElement("div"),i="position: absolute; width: "+this.sizeTransForm(t.width)+"px; z-index: "+t.index+"; height: "+this.sizeTransForm(t.height)+"px; left: "+this.sizeTransForm(t.left)+"px; top: "+this.sizeTransForm(t.top)+"px;";if(a.style=i,a.id="fox-module"+t.id,t.showMsec)var n='<div style="height: 100%; text-align: center; font-size: 0; width: 100%;"><span class="day" style="'+this.getNumStyle(t,!0)+'">0</span><span class="day" style="'+this.getNumStyle(t,!1)+'">0</span><span class="txt" style="'+this.getTxtStyle(t)+'">天</span><span class="hours" style="'+this.getNumStyle(t,!0)+'">0</span><span class="hours" style="'+this.getNumStyle(t,!1)+'">0</span><span class="txt" style="'+this.getTxtStyle(t)+'">时</span><span class="min" style="'+this.getNumStyle(t,!0)+'">0</span><span class="min" style="'+this.getNumStyle(t,!1)+'">0</span><span class="txt" style="'+this.getTxtStyle(t)+'">分</span><span class="sec" style="'+this.getNumStyle(t,!0)+'">0</span><span class="sec" style="'+this.getNumStyle(t,!1)+'">0</span><span class="txt" style="'+this.getTxtStyle(t)+'">秒</span><span class="ms" style="'+this.getNumStyle(t,!1)+'">0</span></div>';else var n='<div style="height: 100%; text-align: center; font-size: 0; width: 100%;"><span class="day" style="'+this.getNumStyle(t,!0)+'">0</span><span class="day" style="'+this.getNumStyle(t,!1)+'">0</span><span class="txt" style="'+this.getTxtStyle(t)+'">天</span><span class="hours" style="'+this.getNumStyle(t,!0)+'">0</span><span class="hours" style="'+this.getNumStyle(t,!1)+'">0</span><span class="txt" style="'+this.getTxtStyle(t)+'">时</span><span class="min" style="'+this.getNumStyle(t,!0)+'">0</span><span class="min" style="'+this.getNumStyle(t,!1)+'">0</span><span class="txt" style="'+this.getTxtStyle(t)+'">分</span><span class="sec" style="'+this.getNumStyle(t,!0)+'">0</span><span class="sec" style="'+this.getNumStyle(t,!1)+'">0</span><span class="day" class="txt" style="'+this.getTxtStyle(t)+'">秒</span></div>';a.innerHTML=n;var s=r.GetByClass(a,"day"),o=r.GetByClass(a,"hours"),l=r.GetByClass(a,"min"),u=r.GetByClass(a,"sec"),d=r.GetByClass(a,"ms"),c=(new Date).getTime(),f=new e({disTime:t.endTime-c,numberDouble:!0,run:function(e){s[0].innerHTML=e.day[0],s[1].innerHTML=e.day[1],o[0].innerHTML=e.hour[0],o[1].innerHTML=e.hour[1],l[0].innerHTML=e.min[0],l[1].innerHTML=e.min[1],u[0].innerHTML=e.sec[0],u[1].innerHTML=e.sec[1],t.showMsec&&(d[0].innerHTML=e.ms[0])}});f._run(),this.file.appendChild(a)},createMapArea:function(t){var e=document.createElement("a"),a="position: absolute; width: "+this.sizeTransForm(t.width)+"px; z-index: "+t.index+"; height: "+this.sizeTransForm(t.height)+"px; left: "+this.sizeTransForm(t.left)+"px; top: "+this.sizeTransForm(t.top)+"px;";e.style=a,e.id="fox-module"+t.id,e.href=t.href?t.href:"javascript:;",t.newTab&&(e.target="_blank"),this.file.appendChild(e)},getNumStyle:function(t,e){var a=e?this.sizeTransForm(t.marginRight/t.naturalWidth*t.width):0,i="display: inline-block;vertical-align: middle;text-align: center;height: 100%;width: "+this.sizeTransForm(t.naturalNumWidth/t.naturalWidth*t.width)+"px;line-height: "+this.sizeTransForm(t.height)+"px;font-size: "+this.sizeTransForm(t.naturalNumFontSize/t.naturalWidth*t.width)+"px;border-radius: "+this.sizeTransForm(t.naturalNumBorderRadius/t.naturalWidth*t.width)+"px;color: "+t.numColor+";background-color: "+t.numbg+";margin-right: "+a+"px;";return i},getTxtStyle:function(t){var e="display: inline-block;vertical-align: middle;text-align: center;height: 100%;width: "+this.sizeTransForm(t.naturalNumWidth/t.naturalWidth*t.width)+"px;line-height: "+this.sizeTransForm(t.height)+"px;font-size: "+this.sizeTransForm(t.naturalTxtFontSize/t.naturalWidth*t.width)+"px;color: "+t.txtColor+";";return e},sizeTransForm:function(t){return t*this.proportion}};a.prototype=s;var r={css:function(t,e){for(var a in e)"opacity"==a?(t.style.filter="alpha(opacity:"+e[a]+")",t.style.opacity=e[a]/100):t.style[a]=e[a]},msTransform:function(t,e){var a=t/864e5;if(a<1)var i=0;else var i=parseInt(t/864e5);t=parseInt(t%864e5);var n=parseInt(t/36e5);t=parseInt(t%36e5);var s=parseInt(t/6e4);t=parseInt(t%6e4);var o=parseInt(t/1e3);return t=parseInt(t%1e3/100),e?(n=r.toDuble(n),s=r.toDuble(s),o=r.toDuble(o),i=r.toDuble(i)):(n=n,s=s,o=o,i=i),{day:i,hour:n,min:s,sec:o,ms:t+""}},toDuble:function(t){return t<10?"0"+t:t+""},GetByClass:function(t,e){if(t.getElementsByClassName)return t.getElementsByClassName(e);for(var a=[],i=new RegExp("(^|\\s)"+e+"(\\s|$)"),n=t.getElementsByTagName("*"),s=0;s<n.length;s++)i.test(n[s].className)&&a.push(n[s]);return a}};return a})}});
//# sourceMappingURL=fox.js.map