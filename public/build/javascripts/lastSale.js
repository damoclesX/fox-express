/*! created by chhuangxiaolong@jd.com */
webpackJsonp([8],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=a(1),o=n(i),r=a(2),l=n(r),d=a(3),s=n(d),f=a(6),u=n(f),c=a(7),h=n(c),g=a(10),m=n(g),v=a(21),p=n(v),w=a(23),_=n(w),L=a(24),O=n(L),C=a(25),I=n(C),y=a(33),S=n(y),x=a(34),A=n(x),G=a(30),b=n(G);l.default.CONFIG.ANIMA_SCROLL=!0,window.$=o.default,(0,u.default)(),(0,_.default)(),(0,O.default)(),(0,I.default)(),s.default.headerInit(),h.default.init(),m.default.init();var z=new p.default;z.init(),(0,S.default)(),(0,A.default)(),(0,b.default)((0,o.default)(".flexible-area:not(.none) .flexible-area-inner"),function(t){t.removeClass("op0").removeClass("none"),t.closest(".flexible-area-con").find(".load-wrap").remove(),l.default.GLOBAL.SCROLL_OBJ&&l.default.GLOBAL.SCROLL_OBJ.refresh()})},,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){if(!u.default.CONFIG.SCROLL_OBJ){var t,e,a=(0,l.default)("#red-nav"),n=(0,l.default)("#scroll-view"),i=(0,l.default)("#jd-nav"),r=(0,l.default)("body");(0,l.default)(window).scroll(function(){t=r.scrollTop(),e=i.height(),(0,l.default)(".red-nav-box").length&&(t>=e?(a.addClass("fix-top"),n.addClass("pt60")):t<e&&(a.removeClass("fix-top"),n.removeClass("pt60")))})}var d=(0,l.default)(".red-nav-box"),f=new s.default(".red-mobile-nav",{slidesPerView:"auto",loop:!1,preventClicks:!0,freeMode:!0,freeModeSticky:!0,onClick:function(t){},onInit:function(t){var e=(0,l.default)(".swiper-slide.active",d).get(0);e&&o(t,e,d,0)}});"jdapp"!=u.default.CONFIG.VS&&(0,l.default)(window).bind("orientationchange",function(){var t=(0,l.default)(".swiper-slide.active",d).get(0);t&&((0,h.default)(f),o(f,t,d,0))})}function o(t,e,a,n){var i=(0,l.default)(".nav-fix-item"),o=parseInt(a.width()/2,10),r=e.offsetLeft+i.width(),d=t.maxTranslate(),s=t.minTranslate(),f=o-r-e.offsetWidth/2;f>s?f=s:f<d&&(f=d),t.setWrapperTransition(n),t.setWrapperTranslate(f)}var r=a(1),l=n(r),d=a(8),s=n(d),f=a(2),u=n(f),c=a(9),h=n(c);t.exports={init:i}},,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){var t,e={};(0,r.default)(".red-slider-wraper li").length>1&&(e={loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,pagination:".red-slider-pagination",onImagesReady:function(){},onInit:function(){}}),(0,r.default)(".red-slider-wraper").length&&(t=new d.default(".red-slider-wraper",e)),"jdapp"!=f.default.CONFIG.VS&&(0,r.default)(window).bind("orientationchange",function(){(0,c.default)(t)})}var o=a(1),r=n(o),l=a(8),d=n(l),s=a(2),f=n(s),u=a(9),c=n(u);t.exports={init:i}},,,,,,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){if(d.default.CONFIG.ANIMA_SCROLL){var t=(0,r.default)("#scroll-view").get(0);d.default.GLOBAL.SCROLL_OBJ=new anima_ctrl.scrollview(t,{}),d.default.GLOBAL.SCROLL_OBJ.init(),(0,r.default)(window).bind("orientationchange",function(){d.default.GLOBAL.SCROLL_OBJ.refresh()})}}var o=a(1),r=n(o),l=a(2),d=n(l);t.exports=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){var t,e=(0,l.default)(".item"),a=(0,l.default)("#go-top"),n=(0,l.default)("#count"),i=(0,l.default)("#now"),r=(0,l.default)("#back"),f=(0,l.default)("#total"),u=d.GLOBAL.SCROLL_OBJ;if(!d.CONFIG.ANIMA_SCROLL){var c,h;return(0,l.default)("#go-top").click(function(){(0,l.default)(window).scrollTop(0)}),void(0,l.default)(window).bind("scroll",function(){c=(0,l.default)(window).scrollTop(),h=(0,l.default)(window).height(),c>=h?a.removeClass("none"):a.addClass("none")})}if(u){o(),f.text(e.length),a.click(function(){a.find(".back").hasClass("none")||(u.scrollTo(0,!0),a.addClass("none"))}),u.addScrollstartHandler(function(){e=(0,l.default)(".item"),t=u.getViewHeight(),o()});var g=0,m=0;u.addScrollingHandler(function(){var e=u.getScrollTop();s[m]&&e>=s[m].top-t&&(m++,m>s.length&&(m=s.length));var o=m-1;s[o]&&e<=s[o].top-t&&m--;var l=m;l<=0&&(l=1),l!=g&&(i.text(l),g=l),l>=8?a.removeClass("none"):a.addClass("none"),n.removeClass("none"),r.addClass("none")}),u.addScrollendHandler(function(){var t=m;t<=0&&(t=1),t>=8?a.removeClass("none"):a.addClass("none"),n.addClass("none"),r.removeClass("none")})}}function o(){var t=(0,l.default)("#scroller"),e=(0,l.default)(".item");s.length=0,e.each(function(e,a){var n=(0,l.default)(this).offset().top-t.offset().top+(0,l.default)(this).height();s.push({top:n,index:e+1})})}var r=a(1),l=n(r),d=a(2),s=[];t.exports=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){return d.default.CONFIG.ANIMA_SCROLL?void(d.default.GLOBAL.SCROLL_OBJ&&(d.default.GLOBAL.LAZY=f.default.animaScrollLazy.init({iscroller:d.default.GLOBAL.SCROLL_OBJ,load_sucess:function(t){var e=(0,r.default)(t).closest(".item"),a=e.find("img[data-logo-layzr]"),n=a.attr("data-logo-layzr");if(n){var i=new Image;i.onload=function(){a.attr("src",n)},i.src=n}},loadData:function(t){}}))):void(d.default.GLOBAL.LAZY=f.default.lazy.init({load_sucess:function(t){var e=(0,r.default)(t).closest(".item"),a=e.find("img[data-logo-layzr]"),n=a.attr("data-logo-layzr");if((0,r.default)(t).addClass("fadeIn"),n){var i=new Image;i.onload=function(){a.attr("src",n)},i.src=n}},loadData:function(t){}}))}var o=a(1),r=n(o),l=a(2),d=n(l),s=a(26),f=n(s),u=a(27);n(u);t.exports=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=a(1),o=n(i),r=a(2),l=n(r),d={init:function(t){var e=this,a={anim:!0};return o.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,o.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,o.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,o.default)(this))})},act:function(t){var e=(0,o.default)(t),a=this;if(!e.attr("loaded")){var n=new Image,i=e.attr("data-layzr");a.op.srcTransform&&a.op.srcTransform(i,t)&&(i=a.op.srcTransform(i,t)),n.onload=function(){e.attr("src",i).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t,!0,n)},n.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t,!1,n)},i&&(n.src=i),e.attr("loaded",!0)}},inViewport:function(t){var e=window.pageYOffset-l.default.CONFIG.PRE_LOAD,a=window.pageYOffset+window.innerHeight+l.default.CONFIG.PRE_LOAD,n=(0,o.default)(t).offset().top,i=n+(0,o.default)(t).height();return n>=e&&i<=a},refreshImg:function(){this.img.imgs=(0,o.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,o.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,o.default)("img[data-layzr]"),dataItem:(0,o.default)("*[data-xhr-layzr]"),init:function(t){var e=this,a=null;return(0,o.default)(window).bind("scroll",function(){clearTimeout(a),a=setTimeout(function(){d.img_each(e.imgs),d.dataEach(e.dataItem)},300)}),d.img_each(e.imgs),d.dataEach(e.dataItem),d}}},s={init:function(t){var e=this,a={anim:!0};return o.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,o.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,o.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,o.default)(this))})},act:function(t){var e=(0,o.default)(t),a=this;if(!e.attr("loaded")){var n=new Image,i=e.attr("data-layzr");n.onload=function(){e.attr("src",i).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t)},n.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t)},i&&(n.src=i),e.attr("loaded",!0)}},inViewport:function(t){var e=(0,o.default)(t),a=this.img.scroll_view.offset().top-l.default.CONFIG.PRE_LOAD,n=this.img.scroll_view.offset().top+this.op.iscroller.getViewHeight()+l.default.CONFIG.PRE_LOAD,i=e.offset().top,r=i+e.height();return r<=n&&i>=a},refreshImg:function(){this.img.imgs=(0,o.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,o.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,o.default)("img[data-layzr]"),dataItem:(0,o.default)("*[data-xhr-layzr]"),scroll_view:(0,o.default)("#scroll-view"),init:function(t){var e=this;return t.iscroller.addScrollendHandler(function(){s.img_each(e.imgs),s.dataEach(e.dataItem)}),s.img_each(e.imgs),s.dataEach(e.dataItem),s}}};t.exports={lazy:d,animaScrollLazy:s}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e,a=0,n=t.attr("data-skus"),i=t.attr("data-xhr-layzr");"loading"!=i&&"loaded"!=i&&(t.attr("data-xhr-layzr","loading"),e=(0,s.default)(t.find(".swiper-container")),g.getPriceData(n,function(i){m.renderActPrice(i,n,t),a++,2==a&&o(t,e)}),g.getStockData(n,function(n){m.renderStock(n,t),a++,2==a&&o(t,e)}))}function o(t,e){var a=t.find("li[data-goods-id]");if(a.length>8)for(var n=a.length;n>8;n--)a.eq(n-1).remove();(0,l.default)(this).find("li[data-goods-id]").length<=u.default.CONFIG.ACTGOODS_MIN&&((0,l.default)(this).prev(".item").addClass("mb10"),(0,l.default)(this).remove()),(0,h.default)(e),u.default.GLOBAL.SCROLL_OBJ&&u.default.GLOBAL.SCROLL_OBJ.refresh(),t.attr("data-xhr-layzr","loaded")}var r=a(1),l=n(r),d=a(28),s=n(d),f=a(2),u=n(f),c=a(9),h=n(c),g=a(13),m=a(15);t.exports=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=Swiper(t,{loop:!1,slidesPerView:"auto",freeMode:!0,preventClicks:!0,freeModeSticky:!0,freeModeMomentumRatio:.2,onInit:function(){},onClick:function(t){window.location.href=(0,r.default)(t.clickedSlide).find("a").attr("_href")}});return(0,r.default)(t).find("a").each(function(t,e){var a=(0,r.default)(this).attr("href");(0,r.default)(this).attr("_href",a).attr("href","javascript:;")}),"jdapp"!=d.default.CONFIG.VS&&(0,r.default)(window).bind("orientationchange",function(){var t=(0,r.default)("#goods-rec-wrapper li"),a=document.documentElement.clientWidth;t.css("width",Math.ceil(a/3.5)),(0,f.default)(e)}),e}var o=a(1),r=n(o),l=a(2),d=n(l),s=a(9),f=n(s);t.exports=i},,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){function a(t){t.removeClass("none");var a=(0,r.default)(".innerWraper",t);setTimeout(function(){var n=(a.css("position","absolute").width(),a.css("position","absolute").height());t.addClass("none");var i=a.css("position","static")&&(0,r.default)(".red-page").width()/750;d.queryUrl(window.location.href).usescroll&&(i=1);var o=n*i;0!==o&&(a[0].style.WebkitTransformOrigin="0 0",a[0].style.WebkitTransform="scale("+i+")",a.height(o),e&&e(t))},300)}t.length&&t.each(function(t,e){var n=(0,r.default)(this);n.html('<div class="innerWraper">'+n.html()+"</div>");var i=(0,r.default)(".innerWraper img",n),o=0;i.length||a(n);for(var t=0;t<i.length;t++)!function(t){var e=new Image;e.onload=function(){o++,o==i.length&&a(n)},e.onerror=function(){o++,o==i.length&&a(n)},e.src=i[t].src}(t)})}var o=a(1),r=n(o),l=a(2),d=(n(l),a(5));t.exports=i},,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){var t=(0,r.default)("body").attr("data-type");(0,r.default)("#footer-nav").length&&(0,r.default)("#footer-nav a").each(function(e,a){var n=(0,r.default)(this),i=n.attr("type");i==t?(n.closest("li").addClass("active"),n.append('<img src="'+n.attr("img_active")+'">')):n.append('<img src="'+n.attr("img")+'">')})}var o=a(1),r=n(o);t.exports=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){if(window.sessionStorage){var t=l.GLOBAL.SCROLL_OBJ,e=l.GLOBAL.LAZY;sessionStorage.getItem("index_y")&&(l.CONFIG.ANIMA_SCROLL?(t.scrollTo(parseInt(sessionStorage.getItem("index_y"),10)),e.refreshImg()):(0,r.default)(window).scrollTop(parseInt(sessionStorage.getItem("index_y"),10)),sessionStorage.removeItem("index_y")),(0,r.default)("#scroll-view").bind("click",function(e){var a=(0,r.default)(e.target),n=a.closest("a");if(n.length){var i=n.attr("href");if(n.find(".total-count").length&&(i="pass"),""!=i&&"javascript:;"!=i&&"#"!=i)return a.closest(".filter-wrap").length||a.closest(".red-nav-box").length||a.closest(".flexible-area").length||a.closest(".sec-tab").length?sessionStorage.removeItem("index_y"):void(l.CONFIG.ANIMA_SCROLL?window.sessionStorage.setItem("index_y",t.getScrollTop()):window.sessionStorage.setItem("index_y",(0,r.default)(window).scrollTop()))}})}}var o=a(1),r=n(o),l=a(2);t.exports=i}]);
//# sourceMappingURL=lastSale.js.map