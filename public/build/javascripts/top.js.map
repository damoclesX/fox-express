{"version":3,"sources":["webpack:///javascripts/top.js","webpack:///./public/src/javascripts/pages/top.js","webpack:///./public/src/javascripts/modules/redSlider.js?c9f6*********","webpack:///./public/src/javascripts/modules/goTop.js?aa35************","webpack:///./public/src/javascripts/modules/indexLazyLoad.js?f9f7*********","webpack:///./public/src/javascripts/unit/lazy_load.js?eb08************","webpack:///./public/src/javascripts/modules/indexGoods.js?5704*********","webpack:///./public/src/javascripts/modules/actGoodsSlider.js?7c12*********","webpack:///./public/src/javascripts/modules/footBar.js?ad05*******","webpack:///./public/src/javascripts/modules/topDataLoad.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_ZEPTO_PATH","_ZEPTO_PATH2","_variable","_header","_header2","_layout","_layout2","_redSlider","_redSlider2","_footerAd","_footerAd2","_goTop","_goTop2","_indexLazyLoad","_indexLazyLoad2","_footBar","_footBar2","_topDataLoad","_topDataLoad2","_model","_view","window","$","headerInit","init","loadData","loadPrice","loadStock","actStrTransform","footerAd","10","sliderSwiper","slider_config","length","loop","autoplay","autoplayDisableOnInteraction","pagination","onImagesReady","onInit","_SWIPER_JS_PATH2","_variable2","CONFIG","VS","bind","_updateSlider2","_SWIPER_JS_PATH","_updateSlider","24","start","wrapper_height","items","go_top_btn","count_text","count_now","back_text","total_text","SCROLL","VARIABLE","GLOBAL","SCROLL_OBJ","ANIMA_SCROLL","scrollTop","wHeight","click","height","removeClass","addClass","itemPosCom","text","find","hasClass","scrollTo","addScrollstartHandler","getViewHeight","num_last","targetIndex","addScrollingHandler","y","getScrollTop","itemPos","top","preIndex","itemCount","addScrollendHandler","scroller","each","i","v","this","offset","push","index","25","lazyLoad","LAZY","_lazy_load2","animaScrollLazy","iscroller","load_sucess","img","item","closest","logo_img","logo_url","attr","Img","Image","onload","src","lazy","_lazy_load","_indexGoods","26","opt","that","op","anim","extend","img_each","img_lazy","_this","node","inViewport","act","dataEach","dataItem","_self","$_self","original","srcTransform","removeAttr","onerror","el","pageYOffset","PRE_LOAD","btm","innerHeight","elTop","elBottom","refreshImg","imgs","n","lazyScrollTimer","clearTimeout","setTimeout","_el","scroll_view","el_top","el_bottom","27","main","slider","priceAndStockRequest","skuidsv","loadState","_actGoodsSlider2","model","getPriceData","data","view","renderActPrice","clearProduct","getStockData","renderStock","thisLi","eq","remove","ACTGOODS_MIN","prev","refresh","_actGoodsSlider","28","container","actSlider","Swiper","slidesPerView","freeMode","preventClicks","freeModeSticky","freeModeMomentumRatio","onClick","swiper","location","href","clickedSlide","goods_slider_li","client_width","document","documentElement","clientWidth","css","Math","ceil","33","pageType","thisType","append","68","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_model2","_view2","TOP_DATA_LOAD","skuItems","skus","skusStr","join","priceAndStock","renderTopPrice","addTag","clearList","renderTopStock","filterContent","titles","actName","actInfo","indexOf","width"],"mappings":"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","file":"javascripts/top.js","sourcesContent":["webpackJsonp([14],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tvar _variable = __webpack_require__(2);\n\t\n\tvar _variable2 = _interopRequireDefault(_variable);\n\t\n\tvar _header = __webpack_require__(3);\n\t\n\tvar _header2 = _interopRequireDefault(_header);\n\t\n\tvar _layout = __webpack_require__(6);\n\t\n\tvar _layout2 = _interopRequireDefault(_layout);\n\t\n\tvar _redSlider = __webpack_require__(10);\n\t\n\tvar _redSlider2 = _interopRequireDefault(_redSlider);\n\t\n\tvar _footerAd = __webpack_require__(21);\n\t\n\tvar _footerAd2 = _interopRequireDefault(_footerAd);\n\t\n\tvar _goTop = __webpack_require__(24);\n\t\n\tvar _goTop2 = _interopRequireDefault(_goTop);\n\t\n\tvar _indexLazyLoad = __webpack_require__(25);\n\t\n\tvar _indexLazyLoad2 = _interopRequireDefault(_indexLazyLoad);\n\t\n\tvar _footBar = __webpack_require__(33);\n\t\n\tvar _footBar2 = _interopRequireDefault(_footBar);\n\t\n\tvar _topDataLoad = __webpack_require__(68);\n\t\n\tvar _topDataLoad2 = _interopRequireDefault(_topDataLoad);\n\t\n\tvar _model = __webpack_require__(13);\n\t\n\tvar _model2 = _interopRequireDefault(_model);\n\t\n\tvar _view = __webpack_require__(15);\n\t\n\tvar _view2 = _interopRequireDefault(_view);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\twindow.$ = _ZEPTO_PATH2.default;\n\t\n\t// 页面布局调整\n\t(0, _layout2.default)();\n\t\n\t// 回到顶部按钮\n\t(0, _goTop2.default)();\n\t\n\t// 懒加载\n\t(0, _indexLazyLoad2.default)();\n\t\n\t// 公共头部\n\t_header2.default.headerInit();\n\t\n\t// 轮播图\n\t_redSlider2.default.init();\n\t\n\tvar loadData = new _topDataLoad2.default();\n\t\n\t// 获取价格\n\tloadData.loadPrice();\n\t\n\t// 获取库存\n\tloadData.loadStock();\n\t\n\t// 活动字符长短限制\n\tloadData.actStrTransform();\n\t\n\t// 尾部广告\n\tvar footerAd = new _footerAd2.default();\n\t\n\tfooterAd.init();\n\t\n\t// 底部导航\n\t(0, _footBar2.default)();\n\n/***/ },\n\n/***/ 10:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tvar _SWIPER_JS_PATH = __webpack_require__(8);\n\t\n\tvar _SWIPER_JS_PATH2 = _interopRequireDefault(_SWIPER_JS_PATH);\n\t\n\tvar _variable = __webpack_require__(2);\n\t\n\tvar _variable2 = _interopRequireDefault(_variable);\n\t\n\tvar _updateSlider = __webpack_require__(9);\n\t\n\tvar _updateSlider2 = _interopRequireDefault(_updateSlider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction init() {\n\t\tvar slider_config = {};\n\t\tvar sliderSwiper;\n\t\n\t\tif ((0, _ZEPTO_PATH2.default)('.red-slider-wraper li').length > 1) {\n\t\t\tslider_config = {\n\t\t\t\tloop: true,\n\t\t\t\tautoplay: 5000,\n\t\t\t\tautoplayDisableOnInteraction: false,\n\t\t\t\tpagination: '.red-slider-pagination',\n\t\t\t\tonImagesReady: function onImagesReady() {},\n\t\t\t\tonInit: function onInit() {}\n\t\t\t};\n\t\t}\n\t\n\t\tif ((0, _ZEPTO_PATH2.default)('.red-slider-wraper').length) {\n\t\t\tsliderSwiper = new _SWIPER_JS_PATH2.default('.red-slider-wraper', slider_config);\n\t\t}\n\t\n\t\t// 浏览器端旋转设备时刷新尺寸\n\t\tif (_variable2.default.CONFIG.VS != 'jdapp') {\n\t\t\t(0, _ZEPTO_PATH2.default)(window).bind('orientationchange', function () {\n\t\t\t\t(0, _updateSlider2.default)(sliderSwiper);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tmodule.exports = {\n\t\tinit: init\n\t};\n\n/***/ },\n\n/***/ 24:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar VARIABLE = __webpack_require__(2);\n\tvar itemPos = [];\n\t\n\tfunction start() {\n\t\tvar items = (0, _ZEPTO_PATH2.default)('.item');\n\t\tvar go_top_btn = (0, _ZEPTO_PATH2.default)('#go-top');\n\t\tvar count_text = (0, _ZEPTO_PATH2.default)('#count');\n\t\tvar count_now = (0, _ZEPTO_PATH2.default)('#now');\n\t\tvar back_text = (0, _ZEPTO_PATH2.default)('#back');\n\t\tvar total_text = (0, _ZEPTO_PATH2.default)('#total');\n\t\tvar SCROLL = VARIABLE.GLOBAL.SCROLL_OBJ;\n\t\tvar item_count_inview, wrapper_height, item_height, first_item_top, scroll_view_top;\n\t\n\t\t// 基于系统自带滚动\n\t\tif (!VARIABLE.CONFIG.ANIMA_SCROLL) {\n\t\t\tvar scrollTop, wHeight;\n\t\n\t\t\t(0, _ZEPTO_PATH2.default)('#go-top').click(function () {\n\t\t\t\t(0, _ZEPTO_PATH2.default)(window).scrollTop(0);\n\t\t\t});\n\t\n\t\t\t(0, _ZEPTO_PATH2.default)(window).bind('scroll', function () {\n\t\t\t\tscrollTop = (0, _ZEPTO_PATH2.default)(window).scrollTop();\n\t\t\t\twHeight = (0, _ZEPTO_PATH2.default)(window).height();\n\t\n\t\t\t\tif (scrollTop >= wHeight) {\n\t\t\t\t\tgo_top_btn.removeClass('none');\n\t\t\t\t} else {\n\t\t\t\t\tgo_top_btn.addClass('none');\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\n\t\tif (!SCROLL) return;\n\t\n\t\titemPosCom();\n\t\n\t\t// 填充活动总数\n\t\ttotal_text.text(items.length);\n\t\n\t\t// 回到顶部\n\t\tgo_top_btn.click(function () {\n\t\t\tif (go_top_btn.find('.back').hasClass('none')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tSCROLL.scrollTo(0, true);\n\t\t\tgo_top_btn.addClass('none');\n\t\t});\n\t\n\t\t// 滚动之前(手指已经与屏幕接触)\n\t\tSCROLL.addScrollstartHandler(function () {\n\t\t\titems = (0, _ZEPTO_PATH2.default)('.item');\n\t\t\twrapper_height = SCROLL.getViewHeight();\n\t\t\titemPosCom();\n\t\t});\n\t\n\t\tvar num_last = 0;\n\t\tvar targetIndex = 0;\n\t\n\t\t// 滚动时\n\t\tSCROLL.addScrollingHandler(function () {\n\t\t\tvar y = SCROLL.getScrollTop();\n\t\n\t\t\tif (itemPos[targetIndex] && y >= itemPos[targetIndex].top - wrapper_height) {\n\t\t\t\ttargetIndex++;\n\t\t\t\tif (targetIndex > itemPos.length) {\n\t\t\t\t\ttargetIndex = itemPos.length;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tvar preIndex = targetIndex - 1;\n\t\n\t\t\tif (itemPos[preIndex] && y <= itemPos[preIndex].top - wrapper_height) {\n\t\t\t\ttargetIndex--;\n\t\t\t}\n\t\n\t\t\tvar itemCount = targetIndex;\n\t\n\t\t\tif (itemCount <= 0) {\n\t\t\t\titemCount = 1;\n\t\t\t}\n\t\n\t\t\tif (itemCount != num_last) {\n\t\t\t\tcount_now.text(itemCount);\n\t\t\t\tnum_last = itemCount;\n\t\t\t}\n\t\n\t\t\tif (itemCount >= 8) {\n\t\t\t\tgo_top_btn.removeClass('none');\n\t\t\t} else {\n\t\t\t\tgo_top_btn.addClass('none');\n\t\t\t}\n\t\n\t\t\t// 显示计数器\n\t\t\tcount_text.removeClass('none');\n\t\t\tback_text.addClass('none');\n\t\t});\n\t\n\t\t// 滚动停止时\n\t\tSCROLL.addScrollendHandler(function () {\n\t\t\tvar itemCount = targetIndex;\n\t\n\t\t\tif (itemCount <= 0) {\n\t\t\t\titemCount = 1;\n\t\t\t}\n\t\n\t\t\tif (itemCount >= 8) {\n\t\t\t\tgo_top_btn.removeClass('none');\n\t\t\t} else {\n\t\t\t\tgo_top_btn.addClass('none');\n\t\t\t}\n\t\n\t\t\t// 隐藏计数器\n\t\t\tcount_text.addClass('none');\n\t\t\tback_text.removeClass('none');\n\t\t});\n\t}\n\t\n\tfunction itemPosCom() {\n\t\tvar scroller = (0, _ZEPTO_PATH2.default)('#scroller');\n\t\tvar items = (0, _ZEPTO_PATH2.default)('.item');\n\t\n\t\titemPos.length = 0;\n\t\titems.each(function (i, v) {\n\t\t\tvar y = (0, _ZEPTO_PATH2.default)(this).offset().top - scroller.offset().top + (0, _ZEPTO_PATH2.default)(this).height();\n\t\n\t\t\titemPos.push({\n\t\t\t\ttop: y,\n\t\t\t\tindex: i + 1\n\t\t\t});\n\t\t});\n\t}\n\t\n\tmodule.exports = start;\n\n/***/ },\n\n/***/ 25:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tvar _variable = __webpack_require__(2);\n\t\n\tvar _variable2 = _interopRequireDefault(_variable);\n\t\n\tvar _lazy_load = __webpack_require__(26);\n\t\n\tvar _lazy_load2 = _interopRequireDefault(_lazy_load);\n\t\n\tvar _indexGoods = __webpack_require__(27);\n\t\n\tvar _indexGoods2 = _interopRequireDefault(_indexGoods);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction lazyLoad() {\n\t\t// 如果不是ios，就是用系统滚动懒加载\n\t\tif (!_variable2.default.CONFIG.ANIMA_SCROLL) {\n\t\t\t_variable2.default.GLOBAL.LAZY = _lazy_load2.default.lazy.init({\n\t\t\t\tload_sucess: function load_sucess(img) {\n\t\t\t\t\tvar item = (0, _ZEPTO_PATH2.default)(img).closest('.item');\n\t\t\t\t\tvar logo_img = item.find('img[data-logo-layzr]');\n\t\t\t\t\tvar logo_url = logo_img.attr('data-logo-layzr');\n\t\n\t\t\t\t\t(0, _ZEPTO_PATH2.default)(img).addClass('fadeIn');\n\t\n\t\t\t\t\t// 加载logo图片\n\t\t\t\t\tif (logo_url) {\n\t\t\t\t\t\tvar Img = new Image();\n\t\n\t\t\t\t\t\tImg.onload = function () {\n\t\t\t\t\t\t\tlogo_img.attr('src', logo_url);\n\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\tImg.src = logo_url;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tloadData: function loadData(item) {\n\t\t\t\t\t// 活动外露商品\n\t\t\t\t\t//goods(item);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t};\n\t\n\t\tif (!_variable2.default.GLOBAL.SCROLL_OBJ) return;\n\t\t_variable2.default.GLOBAL.LAZY = _lazy_load2.default.animaScrollLazy.init({\n\t\t\tiscroller: _variable2.default.GLOBAL.SCROLL_OBJ,\n\t\t\tload_sucess: function load_sucess(img) {\n\t\t\t\tvar item = (0, _ZEPTO_PATH2.default)(img).closest('.item');\n\t\t\t\tvar logo_img = item.find('img[data-logo-layzr]');\n\t\t\t\tvar logo_url = logo_img.attr('data-logo-layzr');\n\t\n\t\t\t\t// 加载logo图片\n\t\t\t\tif (logo_url) {\n\t\t\t\t\tvar Img = new Image();\n\t\n\t\t\t\t\tImg.onload = function () {\n\t\t\t\t\t\tlogo_img.attr('src', logo_url);\n\t\t\t\t\t};\n\t\n\t\t\t\t\tImg.src = logo_url;\n\t\t\t\t}\n\t\t\t},\n\t\t\tloadData: function loadData(item) {\n\t\t\t\t// 活动外露商品\n\t\t\t\t//goods(item);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmodule.exports = lazyLoad;\n\n/***/ },\n\n/***/ 26:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tvar _variable = __webpack_require__(2);\n\t\n\tvar _variable2 = _interopRequireDefault(_variable);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// 图片懒加载\n\tvar lazy = {\n\t    init: function init(opt) {\n\t        var that = this;\n\t        var op = {\n\t            anim: true\n\t        };\n\t        _ZEPTO_PATH2.default.extend(op, opt);\n\t        this.op = op;\n\t        return that.img.init(op);\n\t    },\n\t\n\t    img_each: function img_each(img_lazy) {\n\t        var _this = this;\n\t\n\t        img_lazy.each(function (index, node) {\n\t            if (!(0, _ZEPTO_PATH2.default)(this).attr('data-layzr')) {\n\t                return;\n\t            }\n\t\n\t            if (!_this.inViewport(this)) {\n\t                return;\n\t            }\n\t\n\t            _this.act(this);\n\t        });\n\t    },\n\t\n\t    dataEach: function dataEach(dataItem) {\n\t        var _this = this;\n\t\n\t        dataItem.each(function (index, node) {\n\t            if (!(0, _ZEPTO_PATH2.default)(this).attr('data-xhr-layzr')) {\n\t                return;\n\t            }\n\t\n\t            if (!_this.inViewport(this)) {\n\t                return;\n\t            }\n\t\n\t            _this.op.loadData && _this.op.loadData((0, _ZEPTO_PATH2.default)(this));\n\t        });\n\t    },\n\t\n\t    act: function act(_self) {\n\t        var $_self = (0, _ZEPTO_PATH2.default)(_self);\n\t        var _this = this;\n\t\n\t        if ($_self.attr('loaded')) {\n\t            return;\n\t        }\n\t        var img = new Image(),\n\t            original = $_self.attr('data-layzr');\n\t\n\t        if (_this.op.srcTransform && _this.op.srcTransform(original, _self)) {\n\t            original = _this.op.srcTransform(original, _self);\n\t        }\n\t\n\t        img.onload = function () {\n\t            $_self.attr('src', original).removeAttr('data-layzr');\n\t            _this.op.load_sucess && _this.op.load_sucess(_self, true, img);\n\t        };\n\t        img.onerror = function () {\n\t            _this.op.load_sucess && _this.op.load_sucess(_self, false, img);\n\t        };\n\t\n\t        original && (img.src = original);\n\t        $_self.attr('loaded', true);\n\t    },\n\t\n\t    inViewport: function inViewport(el) {\n\t        var top = window.pageYOffset - _variable2.default.CONFIG.PRE_LOAD;\n\t        var btm = window.pageYOffset + window.innerHeight + _variable2.default.CONFIG.PRE_LOAD;\n\t        var elTop = (0, _ZEPTO_PATH2.default)(el).offset().top;\n\t        var elBottom = elTop + (0, _ZEPTO_PATH2.default)(el).height();\n\t\n\t        return elTop >= top && elBottom <= btm;\n\t    },\n\t\n\t    refreshImg: function refreshImg() {\n\t        this.img.imgs = (0, _ZEPTO_PATH2.default)('img[data-layzr]');\n\t        this.img_each(this.img.imgs);\n\t        this.img.dataItem = (0, _ZEPTO_PATH2.default)('*[data-xhr-layzr]');\n\t        this.dataEach(this.img.dataItem);\n\t    },\n\t\n\t    img: {\n\t        imgs: (0, _ZEPTO_PATH2.default)('img[data-layzr]'),\n\t        dataItem: (0, _ZEPTO_PATH2.default)('*[data-xhr-layzr]'),\n\t        init: function init(n) {\n\t            var _this = this;\n\t            var lazyScrollTimer = null;\n\t\n\t            (0, _ZEPTO_PATH2.default)(window).bind('scroll', function () {\n\t                clearTimeout(lazyScrollTimer);\n\t                lazyScrollTimer = setTimeout(function () {\n\t                    lazy.img_each(_this.imgs);\n\t                    lazy.dataEach(_this.dataItem);\n\t                }, 300);\n\t            });\n\t\n\t            lazy.img_each(_this.imgs);\n\t            lazy.dataEach(_this.dataItem);\n\t            return lazy;\n\t        }\n\t    }\n\t};\n\t\n\t// 基于anima-scroll懒加载\n\tvar animaScrollLazy = {\n\t    init: function init(opt) {\n\t        var that = this;\n\t        var op = {\n\t            anim: true\n\t        };\n\t        _ZEPTO_PATH2.default.extend(op, opt);\n\t        this.op = op;\n\t        return that.img.init(op);\n\t    },\n\t\n\t    img_each: function img_each(img_lazy) {\n\t        var _this = this;\n\t\n\t        img_lazy.each(function (index, node) {\n\t            if (!(0, _ZEPTO_PATH2.default)(this).attr('data-layzr')) {\n\t                return;\n\t            }\n\t\n\t            if (!_this.inViewport(this)) {\n\t                return;\n\t            }\n\t\n\t            _this.act(this);\n\t        });\n\t    },\n\t\n\t    dataEach: function dataEach(dataItem) {\n\t        var _this = this;\n\t\n\t        dataItem.each(function (index, node) {\n\t            if (!(0, _ZEPTO_PATH2.default)(this).attr('data-xhr-layzr')) {\n\t                return;\n\t            }\n\t\n\t            if (!_this.inViewport(this)) {\n\t                return;\n\t            }\n\t            _this.op.loadData && _this.op.loadData((0, _ZEPTO_PATH2.default)(this));\n\t        });\n\t    },\n\t\n\t    act: function act(_self) {\n\t        var $_self = (0, _ZEPTO_PATH2.default)(_self);\n\t        var _this = this;\n\t\n\t        if ($_self.attr('loaded')) {\n\t            return;\n\t        }\n\t        var img = new Image(),\n\t            original = $_self.attr('data-layzr');\n\t\n\t        img.onload = function () {\n\t            $_self.attr('src', original).removeAttr('data-layzr');\n\t            _this.op.load_sucess && _this.op.load_sucess(_self);\n\t        };\n\t        img.onerror = function () {\n\t            _this.op.load_sucess && _this.op.load_sucess(_self);\n\t        };\n\t\n\t        original && (img.src = original);\n\t        $_self.attr('loaded', true);\n\t    },\n\t\n\t    inViewport: function inViewport(el) {\n\t        var _el = (0, _ZEPTO_PATH2.default)(el);\n\t        var top = this.img.scroll_view.offset().top - _variable2.default.CONFIG.PRE_LOAD;\n\t        var btm = this.img.scroll_view.offset().top + this.op.iscroller.getViewHeight() + _variable2.default.CONFIG.PRE_LOAD;\n\t        var el_top = _el.offset().top;\n\t        var el_bottom = el_top + _el.height();\n\t\n\t        return el_bottom <= btm && el_top >= top;\n\t    },\n\t\n\t    refreshImg: function refreshImg() {\n\t        this.img.imgs = (0, _ZEPTO_PATH2.default)('img[data-layzr]');\n\t        this.img_each(this.img.imgs);\n\t        this.img.dataItem = (0, _ZEPTO_PATH2.default)('*[data-xhr-layzr]');\n\t        this.dataEach(this.img.dataItem);\n\t    },\n\t\n\t    img: {\n\t        imgs: (0, _ZEPTO_PATH2.default)('img[data-layzr]'),\n\t        dataItem: (0, _ZEPTO_PATH2.default)('*[data-xhr-layzr]'),\n\t        scroll_view: (0, _ZEPTO_PATH2.default)('#scroll-view'),\n\t        init: function init(n) {\n\t            var _this = this;\n\t\n\t            n.iscroller.addScrollendHandler(function () {\n\t                animaScrollLazy.img_each(_this.imgs);\n\t                animaScrollLazy.dataEach(_this.dataItem);\n\t            });\n\t            animaScrollLazy.img_each(_this.imgs);\n\t            animaScrollLazy.dataEach(_this.dataItem);\n\t            return animaScrollLazy;\n\t        }\n\t    }\n\t};\n\t\n\tmodule.exports = {\n\t    lazy: lazy,\n\t    animaScrollLazy: animaScrollLazy\n\t};\n\n/***/ },\n\n/***/ 27:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tvar _actGoodsSlider = __webpack_require__(28);\n\t\n\tvar _actGoodsSlider2 = _interopRequireDefault(_actGoodsSlider);\n\t\n\tvar _variable = __webpack_require__(2);\n\t\n\tvar _variable2 = _interopRequireDefault(_variable);\n\t\n\tvar _updateSlider = __webpack_require__(9);\n\t\n\tvar _updateSlider2 = _interopRequireDefault(_updateSlider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar model = __webpack_require__(13);\n\tvar view = __webpack_require__(15);\n\t\n\tfunction main(item) {\n\t\tvar priceAndStockRequest = 0;\n\t\tvar skuidsv = item.attr('data-skus');\n\t\tvar loadState = item.attr('data-xhr-layzr');\n\t\tvar slider;\n\t\n\t\tif (loadState == 'loading' || loadState == 'loaded') return;\n\t\n\t\titem.attr('data-xhr-layzr', 'loading');\n\t\tslider = (0, _actGoodsSlider2.default)(item.find('.swiper-container'));\n\t\n\t\t// 价格获取\n\t\tmodel.getPriceData(skuidsv, function (data) {\n\t\t\tview.renderActPrice(data, skuidsv, item);\n\t\t\tpriceAndStockRequest++;\n\t\t\tif (priceAndStockRequest == 2) {\n\t\t\t\tclearProduct(item, slider);\n\t\t\t}\n\t\t});\n\t\n\t\t// 库存获取\n\t\tmodel.getStockData(skuidsv, function (data) {\n\t\t\tview.renderStock(data, item);\n\t\t\tpriceAndStockRequest++;\n\t\t\tif (priceAndStockRequest == 2) {\n\t\t\t\tclearProduct(item, slider);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t// 清除多余的商品\n\tfunction clearProduct(item, slider) {\n\t\tvar thisLi = item.find('li[data-goods-id]');\n\t\n\t\tif (thisLi.length > 8) {\n\t\t\tfor (var i = thisLi.length; i > 8; i--) {\n\t\t\t\tthisLi.eq(i - 1).remove();\n\t\t\t}\n\t\t}\n\t\n\t\tif ((0, _ZEPTO_PATH2.default)(this).find('li[data-goods-id]').length <= _variable2.default.CONFIG.ACTGOODS_MIN) {\n\t\t\t(0, _ZEPTO_PATH2.default)(this).prev('.item').addClass('mb10');\n\t\t\t(0, _ZEPTO_PATH2.default)(this).remove();\n\t\t}\n\t\n\t\t(0, _updateSlider2.default)(slider);\n\t\t// actGoodsSlider(item.find('.swiper-container'));\n\t\t_variable2.default.GLOBAL.SCROLL_OBJ && _variable2.default.GLOBAL.SCROLL_OBJ.refresh();\n\t\titem.attr('data-xhr-layzr', 'loaded');\n\t}\n\t\n\tmodule.exports = main;\n\n/***/ },\n\n/***/ 28:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tvar _variable = __webpack_require__(2);\n\t\n\tvar _variable2 = _interopRequireDefault(_variable);\n\t\n\tvar _updateSlider = __webpack_require__(9);\n\t\n\tvar _updateSlider2 = _interopRequireDefault(_updateSlider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction init(container) {\n\t\tvar actSlider = Swiper(container, {\n\t\t\tloop: false,\n\t\t\tslidesPerView: 'auto',\n\t\t\tfreeMode: true,\n\t\t\tpreventClicks: true,\n\t\t\tfreeModeSticky: true,\n\t\t\tfreeModeMomentumRatio: 0.2,\n\t\t\tonInit: function onInit() {},\n\t\t\tonClick: function onClick(swiper) {\n\t\t\t\twindow.location.href = (0, _ZEPTO_PATH2.default)(swiper.clickedSlide).find('a').attr('_href');\n\t\t\t}\n\t\t});\n\t\n\t\t(0, _ZEPTO_PATH2.default)(container).find('a').each(function (i, v) {\n\t\t\tvar href = (0, _ZEPTO_PATH2.default)(this).attr('href');\n\t\n\t\t\t(0, _ZEPTO_PATH2.default)(this).attr('_href', href).attr('href', 'javascript:;');\n\t\t});\n\t\n\t\t// 浏览器端旋转设备时刷新尺寸\n\t\tif (_variable2.default.CONFIG.VS != 'jdapp') {\n\t\t\t(0, _ZEPTO_PATH2.default)(window).bind('orientationchange', function () {\n\t\t\t\tvar goods_slider_li = (0, _ZEPTO_PATH2.default)('#goods-rec-wrapper li');\n\t\t\t\tvar client_width = document.documentElement.clientWidth;\n\t\n\t\t\t\tgoods_slider_li.css('width', Math.ceil(client_width / 3.5));\n\t\t\t\t(0, _updateSlider2.default)(actSlider);\n\t\t\t});\n\t\t};\n\t\n\t\treturn actSlider;\n\t}\n\t\n\tmodule.exports = init;\n\n/***/ },\n\n/***/ 33:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction start() {\n\t\tvar pageType = (0, _ZEPTO_PATH2.default)('body').attr('data-type');\n\t\n\t\tif (!(0, _ZEPTO_PATH2.default)('#footer-nav').length) return;\n\t\n\t\t(0, _ZEPTO_PATH2.default)('#footer-nav a').each(function (i, v) {\n\t\t\tvar _this = (0, _ZEPTO_PATH2.default)(this);\n\t\t\tvar thisType = _this.attr('type');\n\t\n\t\t\t// if(thisType == pageType) {\n\t\t\t// \t_this.closest('li').addClass('active').find('img').attr('src',  _this.attr('img_active'));\n\t\t\t// }else{\n\t\t\t// \t_this.closest('li').addClass('active').find('img').attr('src',  _this.attr('img_active'));\n\t\t\t// }\n\t\n\t\t\tif (thisType == pageType) {\n\t\t\t\t_this.closest('li').addClass('active');\n\t\t\t\t_this.append('<img src=\"' + _this.attr('img_active') + '\">');\n\t\t\t} else {\n\t\t\t\t_this.append('<img src=\"' + _this.attr('img') + '\">');\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmodule.exports = start;\n\n/***/ },\n\n/***/ 68:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _ZEPTO_PATH = __webpack_require__(1);\n\t\n\tvar _ZEPTO_PATH2 = _interopRequireDefault(_ZEPTO_PATH);\n\t\n\tvar _variable = __webpack_require__(2);\n\t\n\tvar _variable2 = _interopRequireDefault(_variable);\n\t\n\tvar _model = __webpack_require__(13);\n\t\n\tvar _model2 = _interopRequireDefault(_model);\n\t\n\tvar _view = __webpack_require__(15);\n\t\n\tvar _view2 = _interopRequireDefault(_view);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar TOP_DATA_LOAD = function () {\n\t\tfunction TOP_DATA_LOAD() {\n\t\t\t_classCallCheck(this, TOP_DATA_LOAD);\n\t\n\t\t\tvar skuItems = (0, _ZEPTO_PATH2.default)('#sku-list .top-item');\n\t\t\tvar skus = [];\n\t\t\tvar skusStr = '';\n\t\n\t\t\tskuItems.each(function (i, v) {\n\t\t\t\tskus.push((0, _ZEPTO_PATH2.default)(this).attr('data-sku'));\n\t\t\t});\n\t\t\tskusStr = skus.join(',');\n\t\t\tthis.priceAndStock = 0;\n\t\t\tthis.skusStr = skusStr;\n\t\t}\n\t\n\t\t// 获取价格\n\t\n\t\n\t\t_createClass(TOP_DATA_LOAD, [{\n\t\t\tkey: 'loadPrice',\n\t\t\tvalue: function loadPrice() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\t_model2.default.getPriceData(_this.skusStr, function (data) {\n\t\t\t\t\t_view2.default.renderTopPrice(data, _this.skusStr);\n\t\t\t\t\t_this.priceAndStock++;\n\t\t\t\t\t_this.addTag();\n\t\t\t\t\tif (_this.priceAndStock == 2) {\n\t\t\t\t\t\t_this.clearList();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// 获取库存\n\t\n\t\t}, {\n\t\t\tkey: 'loadStock',\n\t\t\tvalue: function loadStock() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\t_model2.default.getStockData(_this.skusStr, function (data) {\n\t\t\t\t\t_view2.default.renderTopStock(data, _this.skusStr);\n\t\t\t\t\t_this.priceAndStock++;\n\t\t\t\t\t_this.addTag();\n\t\t\t\t\tif (_this.priceAndStock == 2) {\n\t\t\t\t\t\tclearList(filterContent);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// 处理title字符\n\t\n\t\t}, {\n\t\t\tkey: 'actStrTransform',\n\t\t\tvalue: function actStrTransform() {\n\t\t\t\tvar titles = (0, _ZEPTO_PATH2.default)('#sku-list .act-title');\n\t\n\t\t\t\ttitles.each(function (i, n) {\n\t\t\t\t\tvar actName = (0, _ZEPTO_PATH2.default)(this).find('.act-name');\n\t\t\t\t\tvar actInfo = (0, _ZEPTO_PATH2.default)(this).find('.act-info');\n\t\t\t\t\tvar actTitle = actName.text();\n\t\n\t\t\t\t\tif (!actInfo.length) return;\n\t\n\t\t\t\t\tif (actInfo.text().length <= 2 && actName.text().indexOf('>') == -1) {\n\t\t\t\t\t\tactName.text(actName.text() + ' >');\n\t\t\t\t\t}\n\t\t\t\t\tif (actName.width() + actInfo.width() > (0, _ZEPTO_PATH2.default)(this).width()) {\n\t\t\t\t\t\tactInfo.width((0, _ZEPTO_PATH2.default)(this).width() - actName.width() - 15);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'clearList',\n\t\t\tvalue: function clearList() {\n\t\t\t\t(0, _ZEPTO_PATH2.default)('#sku-list .top-item').each(function (i, v) {\n\t\t\t\t\tif (i > 49) {\n\t\t\t\t\t\t(0, _ZEPTO_PATH2.default)(this).remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'addTag',\n\t\t\tvalue: function addTag() {\n\t\t\t\t(0, _ZEPTO_PATH2.default)('#sku-list .top-item').each(function (i, v) {\n\t\t\t\t\t(0, _ZEPTO_PATH2.default)(this).find('.top-tag').text(i + 1);\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn TOP_DATA_LOAD;\n\t}();\n\t\n\texports.default = TOP_DATA_LOAD;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// javascripts/top.js","import $                from 'ZEPTO_PATH';\nimport VARIABLE         from 'UNIT_PATH/variable';\nimport header           from 'MODULES_PATH/header.js';\nimport layout           from 'MODULES_PATH/layout';\nimport redSlider        from 'MODULES_PATH/redSlider';\nimport FooterAd         from 'MODULES_PATH/footerAd';\nimport goTop            from 'MODULES_PATH/goTop';\nimport LazyLoad         from 'MODULES_PATH/indexLazyLoad';\nimport footBar          from 'MODULES_PATH/footBar';\nimport TOP_DATA_LOAD    from 'MODULES_PATH/topDataLoad';\nimport model            from 'UNIT_PATH/model';\nimport view             from 'UNIT_PATH/view';\n\nwindow.$ = $;\n\n// 页面布局调整\nlayout();\n\n// 回到顶部按钮\ngoTop();\n\n// 懒加载\nLazyLoad();\n\n// 公共头部\nheader.headerInit();\n\n// 轮播图\nredSlider.init();\n\nlet loadData = new TOP_DATA_LOAD();\n\n// 获取价格\nloadData.loadPrice();\n\n// 获取库存\nloadData.loadStock();\n\n// 活动字符长短限制\nloadData.actStrTransform();\n\n// 尾部广告\nvar footerAd = new FooterAd();\n\nfooterAd.init();\n\n// 底部导航\nfootBar();\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/pages/top.js","import $ from 'ZEPTO_PATH';\nimport Swiper from 'SWIPER_JS_PATH';\nimport VARIABLE from 'UNIT_PATH/variable';\nimport updateSlider from 'UNIT_PATH/updateSlider'\n\nfunction init() {\n\tvar slider_config = {};\n\tvar sliderSwiper;\n\n\tif($('.red-slider-wraper li').length > 1) {\n\t\tslider_config = {\n            loop: true,\n            autoplay: 5000,\n            autoplayDisableOnInteraction: false,\n            pagination : '.red-slider-pagination',\n            onImagesReady: function() {\n            },\n            onInit: function() {\n            \t\n            }\n        };\n\t}\n\n\tif($('.red-slider-wraper').length) {\n\t\tsliderSwiper = new Swiper('.red-slider-wraper', slider_config);\n\t}\n\n\t// 浏览器端旋转设备时刷新尺寸\n\tif(VARIABLE.CONFIG.VS != 'jdapp') {\n\t\t$(window).bind('orientationchange', function() {\n\t\t\tupdateSlider(sliderSwiper);\n\t\t});\n\t}\n}\n\nmodule.exports = {\n\tinit: init\n}\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/modules/redSlider.js","import $ from 'ZEPTO_PATH';\nvar VARIABLE = require('UNIT_PATH/variable'); \nvar itemPos = [];\n\nfunction start() {\n\tvar items      = $('.item');\n\tvar go_top_btn = $('#go-top');\n\tvar count_text = $('#count');\n\tvar count_now  = $('#now');\n\tvar back_text  = $('#back');\n\tvar total_text = $('#total');\n\tvar SCROLL     = VARIABLE.GLOBAL.SCROLL_OBJ;\n\tvar item_count_inview, wrapper_height, item_height, first_item_top, scroll_view_top;\n\n\t// 基于系统自带滚动\n\tif(!VARIABLE.CONFIG.ANIMA_SCROLL) {\n\t\tvar scrollTop, wHeight;\n\n\t\t$('#go-top').click(function() {\n\t\t\t$(window).scrollTop(0);\n\t\t});\n\n\t\t$(window).bind('scroll', function() {\n\t\t\tscrollTop = $(window).scrollTop();\n\t\t\twHeight = $(window).height();\n\n\t\t\tif(scrollTop >= wHeight){\n\t\t\t\tgo_top_btn.removeClass('none');\n\t\t\t}else{\n\t\t\t\tgo_top_btn.addClass('none');\n\t\t\t}\n\t\t});\n\t\treturn;\n\t}\n\n\tif(!SCROLL) return; \n\n\titemPosCom();\n\n\t// 填充活动总数\n\ttotal_text.text(items.length);\n\n\t// 回到顶部\n\tgo_top_btn.click(function() {\n\t\tif(go_top_btn.find('.back').hasClass('none')) {\n\t\t\treturn;\n\t\t}\n\t\tSCROLL.scrollTo(0, true);\n\t\tgo_top_btn.addClass('none');\n\t});\n\n\t// 滚动之前(手指已经与屏幕接触)\n\tSCROLL.addScrollstartHandler(function() {\n\t\titems = $('.item');\n\t\twrapper_height = SCROLL.getViewHeight();\n\t\titemPosCom();\n\t});\n\n\tvar num_last = 0;\n\tvar targetIndex = 0;\n\n\t// 滚动时\n\tSCROLL.addScrollingHandler(function() {\n\t\tvar y = SCROLL.getScrollTop();\n\n\t\tif(itemPos[targetIndex] && y >= itemPos[targetIndex].top - wrapper_height) {\n\t\t\ttargetIndex++;\n\t\t\tif(targetIndex > itemPos.length) {\n\t\t\t\ttargetIndex = itemPos.length;\n\t\t\t}\n\t\t}\n\n\t\tvar preIndex = targetIndex - 1;\n\n\t\tif(itemPos[preIndex] && y <= itemPos[preIndex].top - wrapper_height) {\n\t\t\ttargetIndex--;\n\t\t}\n\n\t\tvar itemCount = targetIndex;\n\n\t\tif(itemCount <= 0) {\n\t\t\titemCount = 1;\n\t\t}\n\n\n\n\t\tif(itemCount != num_last) {\n\t\t\tcount_now.text(itemCount);\n\t\t\tnum_last = itemCount;\n\t\t}\n\n\t\tif(itemCount >= 8) {\n\t\t\tgo_top_btn.removeClass('none');\n\t\t}else{\n\t\t\tgo_top_btn.addClass('none');\n\t\t}\n\n\t\t// 显示计数器\n\t\tcount_text.removeClass('none');\n\t\tback_text.addClass('none');\n\t});\n\n\t// 滚动停止时\n\tSCROLL.addScrollendHandler(function() {\n\t\tvar itemCount = targetIndex;\n\n\t\tif(itemCount <= 0) {\n\t\t\titemCount = 1;\n\t\t}\n\n\t\tif(itemCount >= 8) {\n\t\t\tgo_top_btn.removeClass('none');\n\t\t}else{\n\t\t\tgo_top_btn.addClass('none');\n\t\t}\n\n\t\t// 隐藏计数器\n\t\tcount_text.addClass('none');\n\t\tback_text.removeClass('none');\n\t});\n}\n\nfunction itemPosCom() {\n\tvar scroller  = $('#scroller');\n\tvar items     = $('.item');\n\n\titemPos.length = 0;\n\titems.each(function(i, v) {\n\t\tvar y = $(this).offset().top - scroller.offset().top + $(this).height();\n\n\t\titemPos.push({\n\t\t\ttop: y,\n\t\t\tindex: i + 1\n\t\t});\n\t});\n}\n\nmodule.exports = start;\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/modules/goTop.js","import $ from 'ZEPTO_PATH';\nimport VARIABLE from 'UNIT_PATH/variable';\nimport LAZY_LOAD from 'UNIT_PATH/lazy_load';\nimport goods     from 'MODULES_PATH/indexGoods';\n\nfunction lazyLoad() {\n\t// 如果不是ios，就是用系统滚动懒加载\n\tif(!VARIABLE.CONFIG.ANIMA_SCROLL) {\n\t\tVARIABLE.GLOBAL.LAZY = LAZY_LOAD.lazy.init({\n\t\t\tload_sucess: function(img) {\n\t\t\t\tvar item        = $(img).closest('.item');\n\t\t\t\tvar logo_img    = item.find('img[data-logo-layzr]');\n\t\t\t\tvar logo_url    = logo_img.attr('data-logo-layzr');\n\n\t\t\t\t$(img).addClass('fadeIn');\n\n\t\t\t\t// 加载logo图片\n\t\t\t\tif(logo_url) {\n\t\t\t\t\tvar Img = new Image();\n\n\t\t\t\t\tImg.onload = function() {\n\t\t\t\t\t\tlogo_img.attr('src', logo_url);\n\t\t\t\t\t}\n\n\t\t\t\t\tImg.src = logo_url;\n\t\t\t\t}\n\t\t\t},\n\t\t\tloadData: function(item) {\n\t\t\t\t// 活动外露商品\n\t\t\t\t//goods(item);\n\t\t\t}\n\t\t});\n\t\treturn;\n\t};\n\n\tif(!VARIABLE.GLOBAL.SCROLL_OBJ) return;\n\tVARIABLE.GLOBAL.LAZY = LAZY_LOAD.animaScrollLazy.init({\n\t\tiscroller: VARIABLE.GLOBAL.SCROLL_OBJ,\n\t\tload_sucess: function(img) {\n\t\t\tvar item        = $(img).closest('.item');\n\t\t\tvar logo_img    = item.find('img[data-logo-layzr]');\n\t\t\tvar logo_url    = logo_img.attr('data-logo-layzr');\n\t\n\t\t\t// 加载logo图片\n\t\t\tif(logo_url) {\n\t\t\t\tvar Img = new Image();\n\t\n\t\t\t\tImg.onload = function() {\n\t\t\t\t\tlogo_img.attr('src', logo_url);\n\t\t\t\t}\n\t\n\t\t\t\tImg.src = logo_url;\n\t\t\t}\n\t\t},\n\t\tloadData: function(item) {\n\t\t\t// 活动外露商品\n\t\t\t//goods(item);\n\t\t}\n\t});\n}\n\nmodule.exports = lazyLoad;\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/modules/indexLazyLoad.js","import $ from 'ZEPTO_PATH';\nimport VARIABLE from 'UNIT_PATH/variable';\n\n// 图片懒加载\nvar lazy = {\n    init: function(opt) {\n        var that = this;\n        var op = {\n            anim: true\n        };\n        $.extend(op, opt);\n        this.op = op;\n        return that.img.init(op);\n    },\n\n    img_each: function(img_lazy) {\n        var _this = this;\n\n        img_lazy.each(function(index, node) {\n            if (!$(this).attr('data-layzr')) {\n                return;\n            }\n\n            if (!_this.inViewport(this)) {\n                return\n            }\n\n            _this.act(this);\n        });\n    },\n\n    dataEach: function(dataItem) {\n         var _this = this;\n\n        dataItem.each(function(index, node) {\n            if (!$(this).attr('data-xhr-layzr')) {\n                return;\n            }\n\n            if (!_this.inViewport(this)) {\n                return\n            }\n\n            _this.op.loadData && _this.op.loadData($(this));\n        });\n    },\n\n    act: function(_self) {\n        var $_self = $(_self);\n        var _this = this;\n\n        if ($_self.attr('loaded')) {\n            return;\n        }\n        var img = new Image(), original = $_self.attr('data-layzr');\n\n        if(_this.op.srcTransform && _this.op.srcTransform(original, _self)) {\n            original = _this.op.srcTransform(original, _self);\n        }\n\n        img.onload = function() {\n            $_self.attr('src', original).removeAttr('data-layzr');\n            _this.op.load_sucess && _this.op.load_sucess(_self, true, img);\n        }\n        img.onerror = function() {\n            _this.op.load_sucess && _this.op.load_sucess(_self, false, img);\n        }\n\n        original && (img.src = original);\n        $_self.attr('loaded', true);\n    },\n\n    inViewport: function(el) {\n        var top = window.pageYOffset - VARIABLE.CONFIG.PRE_LOAD;\n        var btm = window.pageYOffset + window.innerHeight + VARIABLE.CONFIG.PRE_LOAD;\n        var elTop = $(el).offset().top;\n        var elBottom =  elTop + $(el).height();\n\n        return elTop >= top && elBottom <= btm;\n    },\n\n    refreshImg: function() {\n        this.img.imgs = $('img[data-layzr]');\n        this.img_each(this.img.imgs);\n        this.img.dataItem = $('*[data-xhr-layzr]');\n        this.dataEach(this.img.dataItem);\n    },\n\n    img: {\n        imgs: $('img[data-layzr]'),\n        dataItem: $('*[data-xhr-layzr]'),\n        init: function(n) {\n            var _this = this;\n            var lazyScrollTimer = null;\n\n            $(window).bind('scroll', function() {\n                clearTimeout(lazyScrollTimer);\n                lazyScrollTimer = setTimeout(function() {\n                    lazy.img_each(_this.imgs);\n                    lazy.dataEach(_this.dataItem);\n                }, 300);\n            });\n\n            lazy.img_each(_this.imgs);\n            lazy.dataEach(_this.dataItem);\n            return lazy;\n        }\n    }\n}\n\n// 基于anima-scroll懒加载\nvar animaScrollLazy = {\n    init: function(opt) {\n        var that = this;\n        var op = {\n            anim: true\n        };\n        $.extend(op, opt);\n        this.op = op;\n        return that.img.init(op);\n    },\n\n    img_each: function(img_lazy) {\n        var _this = this;\n\n        img_lazy.each(function(index, node) {\n            if (!$(this).attr('data-layzr')) {\n                return;\n            }\n\n            if (!_this.inViewport(this)) {\n                return\n            }\n\n            _this.act(this);\n        });\n    },\n\n    dataEach: function(dataItem) {\n         var _this = this;\n\n        dataItem.each(function(index, node) {\n            if (!$(this).attr('data-xhr-layzr')) {\n                return;\n            }\n\n            if (!_this.inViewport(this)) {\n                return\n            }\n            _this.op.loadData && _this.op.loadData($(this));\n        });\n    },\n\n    act: function(_self) {\n        var $_self = $(_self);\n        var _this = this;\n\n        if ($_self.attr('loaded')) {\n            return;\n        }\n        var img = new Image(), original = $_self.attr('data-layzr');\n\n        img.onload = function() {\n            $_self.attr('src', original).removeAttr('data-layzr');\n            _this.op.load_sucess && _this.op.load_sucess(_self);\n        }\n        img.onerror = function() {\n            _this.op.load_sucess && _this.op.load_sucess(_self);\n        }\n\n        original && (img.src = original);\n        $_self.attr('loaded', true);\n    },\n\n    inViewport: function(el) {\n        var _el = $(el);\n        var top = this.img.scroll_view.offset().top - VARIABLE.CONFIG.PRE_LOAD;\n        var btm = this.img.scroll_view.offset().top + this.op.iscroller.getViewHeight() + VARIABLE.CONFIG.PRE_LOAD;\n        var el_top = _el.offset().top;\n        var el_bottom = el_top + _el.height();\n\n        return el_bottom <= btm && el_top >= top;\n    },\n\n    refreshImg: function() {\n        this.img.imgs = $('img[data-layzr]');\n        this.img_each(this.img.imgs);\n        this.img.dataItem = $('*[data-xhr-layzr]');\n        this.dataEach(this.img.dataItem);\n    },\n\n    img: {\n        imgs: $('img[data-layzr]'),\n        dataItem: $('*[data-xhr-layzr]'),\n        scroll_view: $('#scroll-view'),\n        init: function(n) {\n            var _this = this;\n\n            n.iscroller.addScrollendHandler(function() {\n                animaScrollLazy.img_each(_this.imgs);\n                animaScrollLazy.dataEach(_this.dataItem);\n            });\n            animaScrollLazy.img_each(_this.imgs);\n            animaScrollLazy.dataEach(_this.dataItem);\n            return animaScrollLazy;\n        }\n    }\n}\n\nmodule.exports = {\n    lazy: lazy,\n    animaScrollLazy: animaScrollLazy\n};\n\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/unit/lazy_load.js","import $ from 'ZEPTO_PATH';\nimport actGoodsSlider from 'MODULES_PATH/actGoodsSlider';\nimport VARIABLE from 'UNIT_PATH/variable';\nimport updateSlider from 'UNIT_PATH/updateSlider';\n\nvar model = require('UNIT_PATH/model');\nvar view = require('UNIT_PATH/view');\n\nfunction main(item) {\n\tvar priceAndStockRequest = 0;\n\tvar skuidsv = item.attr('data-skus');\n\tvar loadState = item.attr('data-xhr-layzr');\n\tvar slider;\n\n\tif(loadState == 'loading' || loadState == 'loaded') return;\n\n\titem.attr('data-xhr-layzr', 'loading');\n\tslider = actGoodsSlider(item.find('.swiper-container'));\n\t\n\t// 价格获取\n\tmodel.getPriceData(skuidsv, function(data) {\n    \tview.renderActPrice(data, skuidsv, item);\n    \tpriceAndStockRequest++;\n    \tif(priceAndStockRequest == 2) {\n    \t\tclearProduct(item, slider);\n    \t}\n    });\n\n\t// 库存获取\n    model.getStockData(skuidsv, function(data) {\n\t\tview.renderStock(data, item);\n\t\tpriceAndStockRequest++;\n\t\tif(priceAndStockRequest == 2) {\n\t\t\tclearProduct(item, slider);\n    \t}\n\t});\n}\n\n// 清除多余的商品\nfunction clearProduct(item, slider) {\n\tvar thisLi = item.find('li[data-goods-id]');\n\n\tif(thisLi.length > 8) {\n\t\tfor(var i = thisLi.length; i > 8; i--) {\n\t\t\tthisLi.eq(i - 1).remove();\n\t\t}\n\t}\n\n\tif($(this).find('li[data-goods-id]').length <= VARIABLE.CONFIG.ACTGOODS_MIN) {\n\t\t$(this).prev('.item').addClass('mb10');\n\t\t$(this).remove();\n\t}\n\n\tupdateSlider(slider);\n\t// actGoodsSlider(item.find('.swiper-container'));\n\tVARIABLE.GLOBAL.SCROLL_OBJ && VARIABLE.GLOBAL.SCROLL_OBJ.refresh();\n\titem.attr('data-xhr-layzr', 'loaded');\n}\n\nmodule.exports = main;\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/modules/indexGoods.js","import $ from 'ZEPTO_PATH';\nimport VARIABLE from 'UNIT_PATH/variable';\nimport updateSlider from 'UNIT_PATH/updateSlider'\n\nfunction init(container) {\n\tvar actSlider = Swiper(container, {\n\t\tloop: false,\n\t\tslidesPerView : 'auto',\n\t\tfreeMode: true,\n\t\tpreventClicks : true,\n\t\tfreeModeSticky: true,\n\t\tfreeModeMomentumRatio: 0.2,\n\t\tonInit: function() {\n\t\t\n\t\t},\n\t\tonClick: function(swiper) {\n\t\t\twindow.location.href = $(swiper.clickedSlide).find('a').attr('_href')\n\t\t}\n\t});\n\n\t$(container).find('a').each(function(i, v) {\n\t\tvar href = $(this).attr('href');\n\n\t\t$(this).attr('_href', href).attr('href', 'javascript:;');\n\t});\n\n\t// 浏览器端旋转设备时刷新尺寸\n\tif(VARIABLE.CONFIG.VS != 'jdapp') {\n\t\t$(window).bind('orientationchange', function() {\n\t\t\tvar goods_slider_li = $('#goods-rec-wrapper li');\n\t\t\tvar client_width = document.documentElement.clientWidth;\n\n\t\t\tgoods_slider_li.css('width', Math.ceil(client_width / 3.5));\n\t\t\tupdateSlider(actSlider);\n\t\t});\n\t};\n\n\treturn actSlider;\n}\n\nmodule.exports = init;\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/modules/actGoodsSlider.js","import $ from 'ZEPTO_PATH';\n\nfunction start() {\n\tvar pageType = $('body').attr('data-type');\n\n\tif(!$('#footer-nav').length) return;\n\n\t$('#footer-nav a').each(function(i, v) {\n\t\tvar _this = $(this);\n\t\tvar thisType = _this.attr('type');\n\n\t\t// if(thisType == pageType) {\n\t\t// \t_this.closest('li').addClass('active').find('img').attr('src',  _this.attr('img_active'));\n\t\t// }else{\n\t\t// \t_this.closest('li').addClass('active').find('img').attr('src',  _this.attr('img_active'));\n\t\t// }\n\n\t\tif(thisType == pageType) {\n\t\t\t_this.closest('li').addClass('active');\n\t\t\t_this.append('<img src=\"'+ _this.attr('img_active') +'\">');\n\t\t}else{\n\t\t\t_this.append('<img src=\"'+ _this.attr('img') +'\">');\n\t\t}\n\t});\n}\n\nmodule.exports = start;\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/modules/footBar.js","import $                from 'ZEPTO_PATH';\nimport VARIABLE         from 'UNIT_PATH/variable';\nimport model            from 'UNIT_PATH/model';\nimport view             from 'UNIT_PATH/view';\n\nclass TOP_DATA_LOAD{\n\tconstructor() {\n\t\tlet skuItems = $('#sku-list .top-item');\n\t\tlet skus = [];\n\t\tlet skusStr = '';\n\n\t\tskuItems.each(function(i, v) {\n\t    \tskus.push($(this).attr('data-sku'));\n\t    });\n\t    skusStr = skus.join(',');\n\t\tthis.priceAndStock = 0;\n\t\tthis.skusStr = skusStr;\n\t}\n\n\t// 获取价格\n\tloadPrice() {\n\t\tlet _this = this;\n\n\t    model.getPriceData(_this.skusStr, function(data) {\n\t    \tview.renderTopPrice(data, _this.skusStr);\n\t    \t_this.priceAndStock++;\n\t    \t_this.addTag();\n\t    \tif(_this.priceAndStock == 2) {\n\t    \t\t_this.clearList();\n\t    \t}\n\t    });\n\t}\n\n\t// 获取库存\n\tloadStock() {\n\t\tlet _this = this;\n\t\t\n\t\tmodel.getStockData(_this.skusStr, function(data) {\n\t\t\tview.renderTopStock(data, _this.skusStr);\n\t    \t_this.priceAndStock++;\n\t    \t_this.addTag();\n\t    \tif(_this.priceAndStock == 2) {\n\t    \t\tclearList(filterContent);\n\t    \t}\n\t\t});\n\t}\n\n\t// 处理title字符\n\tactStrTransform() {\n\t\tlet titles = $('#sku-list .act-title');\n\n\t\ttitles.each(function(i, n) {\n\t\t\tlet actName = $(this).find('.act-name');\n\t\t\tlet actInfo = $(this).find('.act-info');\n\t\t\tlet actTitle = actName.text();\n\n\t\t\tif(!actInfo.length) return;\n\n\t\t\tif(actInfo.text().length <= 2 && actName.text().indexOf('>') == -1){\n\t\t\t\tactName.text(actName.text() + ' >');\n\t\t\t}\n\t\t\tif(actName.width() + actInfo.width() > $(this).width()) {\n\t\t\t\tactInfo.width($(this).width() - actName.width() - 15);\n\t\t\t}\n\t\t});\n\t}\n\n\tclearList() {\n\t\t$('#sku-list .top-item').each(function(i, v) {\n\t\t\tif(i > 49) {\n\t\t\t\t$(this).remove();\n\t\t\t}\n\t\t});\n\t}\n\n\taddTag() {\n\t\t$('#sku-list .top-item').each(function(i, v) {\n\t\t\t$(this).find('.top-tag').text(i + 1);\n\t\t});\n\t}\n}\n\nexport default TOP_DATA_LOAD;\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/modules/topDataLoad.js"],"sourceRoot":""}