/*! created by chhuangxiaolong@jd.com */
webpackJsonp([1],{0:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=a(1),r=i(n),o=a(3),l=i(o),d=a(6),u=i(d),f=a(7),s=i(f),c=a(21),h=i(c),m=a(24),v=i(m),g=a(25),p=i(g),w=a(44),_=i(w),y=a(18),C=(i(y),a(45)),O=i(C),x=a(13),L=i(x);window.$=r.default,(0,u.default)(),l.default.headerInit(),(0,v.default)(),(0,p.default)(),(0,v.default)(),(0,r.default)(".actwilling-timer").length&&(O.default.getNotifyStatus(),O.default.notifyEventBind());var I=new h.default;I.init(),s.default.init(),((0,r.default)(".red-actlist a").length||(0,r.default)(".notify-wrap .notify-item").length)&&L.default.getActBeLeftTime(function(t){if(!(t.dataTime<=0)){(0,r.default)("#timer-box").attr("data-time",t.dataTime);var e=new _.default({timerBox:(0,r.default)("#timer-box"),timeUp:function(){}});e._run()}})},7:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){if(!s.default.CONFIG.SCROLL_OBJ){var t,e,a=(0,l.default)("#red-nav"),i=(0,l.default)("#scroll-view"),n=(0,l.default)("#jd-nav"),o=(0,l.default)("body");(0,l.default)(window).scroll(function(){t=o.scrollTop(),e=n.height(),(0,l.default)(".red-nav-box").length&&(t>=e?(a.addClass("fix-top"),i.addClass("pt60")):t<e&&(a.removeClass("fix-top"),i.removeClass("pt60")))})}var d=(0,l.default)(".red-nav-box"),f=new u.default(".red-mobile-nav",{slidesPerView:"auto",loop:!1,preventClicks:!0,freeMode:!0,freeModeSticky:!0,onClick:function(t){},onInit:function(t){var e=(0,l.default)(".swiper-slide.active",d).get(0);e&&r(t,e,d,0)}});"jdapp"!=s.default.CONFIG.VS&&(0,l.default)(window).bind("orientationchange",function(){var t=(0,l.default)(".swiper-slide.active",d).get(0);t&&((0,h.default)(f),r(f,t,d,0))})}function r(t,e,a,i){var n=(0,l.default)(".nav-fix-item"),r=parseInt(a.width()/2,10),o=e.offsetLeft+n.width(),d=t.maxTranslate(),u=t.minTranslate(),f=r-o-e.offsetWidth/2;f>u?f=u:f<d&&(f=d),t.setWrapperTransition(i),t.setWrapperTranslate(f)}var o=a(1),l=i(o),d=a(8),u=i(d),f=a(2),s=i(f),c=a(9),h=i(c);t.exports={init:n}},24:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){var t,e=(0,l.default)(".item"),a=(0,l.default)("#go-top"),i=(0,l.default)("#count"),n=(0,l.default)("#now"),o=(0,l.default)("#back"),f=(0,l.default)("#total"),s=d.GLOBAL.SCROLL_OBJ;if(!d.CONFIG.ANIMA_SCROLL){var c,h;return(0,l.default)("#go-top").click(function(){(0,l.default)(window).scrollTop(0)}),void(0,l.default)(window).bind("scroll",function(){c=(0,l.default)(window).scrollTop(),h=(0,l.default)(window).height(),c>=h?a.removeClass("none"):a.addClass("none")})}if(s){r(),f.text(e.length),a.click(function(){a.find(".back").hasClass("none")||(s.scrollTo(0,!0),a.addClass("none"))}),s.addScrollstartHandler(function(){e=(0,l.default)(".item"),t=s.getViewHeight(),r()});var m=0,v=0;s.addScrollingHandler(function(){var e=s.getScrollTop();u[v]&&e>=u[v].top-t&&(v++,v>u.length&&(v=u.length));var r=v-1;u[r]&&e<=u[r].top-t&&v--;var l=v;l<=0&&(l=1),l!=m&&(n.text(l),m=l),l>=8?a.removeClass("none"):a.addClass("none"),i.removeClass("none"),o.addClass("none")}),s.addScrollendHandler(function(){var t=v;t<=0&&(t=1),t>=8?a.removeClass("none"):a.addClass("none"),i.addClass("none"),o.removeClass("none")})}}function r(){var t=(0,l.default)("#scroller"),e=(0,l.default)(".item");u.length=0,e.each(function(e,a){var i=(0,l.default)(this).offset().top-t.offset().top+(0,l.default)(this).height();u.push({top:i,index:e+1})})}var o=a(1),l=i(o),d=a(2),u=[];t.exports=n},25:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){return d.default.CONFIG.ANIMA_SCROLL?void(d.default.GLOBAL.SCROLL_OBJ&&(d.default.GLOBAL.LAZY=f.default.animaScrollLazy.init({iscroller:d.default.GLOBAL.SCROLL_OBJ,load_sucess:function(t){var e=(0,o.default)(t).closest(".item"),a=e.find("img[data-logo-layzr]"),i=a.attr("data-logo-layzr");if(i){var n=new Image;n.onload=function(){a.attr("src",i)},n.src=i}},loadData:function(t){}}))):void(d.default.GLOBAL.LAZY=f.default.lazy.init({load_sucess:function(t){var e=(0,o.default)(t).closest(".item"),a=e.find("img[data-logo-layzr]"),i=a.attr("data-logo-layzr");if((0,o.default)(t).addClass("fadeIn"),i){var n=new Image;n.onload=function(){a.attr("src",i)},n.src=i}},loadData:function(t){}}))}var r=a(1),o=i(r),l=a(2),d=i(l),u=a(26),f=i(u),s=a(27);i(s);t.exports=n},26:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=a(1),r=i(n),o=a(2),l=i(o),d={init:function(t){var e=this,a={anim:!0};return r.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,r.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,r.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,r.default)(this))})},act:function(t){var e=(0,r.default)(t),a=this;if(!e.attr("loaded")){var i=new Image,n=e.attr("data-layzr");a.op.srcTransform&&a.op.srcTransform(n,t)&&(n=a.op.srcTransform(n,t)),i.onload=function(){e.attr("src",n).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t,!0,i)},i.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t,!1,i)},n&&(i.src=n),e.attr("loaded",!0)}},inViewport:function(t){var e=window.pageYOffset-l.default.CONFIG.PRE_LOAD,a=window.pageYOffset+window.innerHeight+l.default.CONFIG.PRE_LOAD,i=(0,r.default)(t).offset().top,n=i+(0,r.default)(t).height();return i>=e&&n<=a},refreshImg:function(){this.img.imgs=(0,r.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,r.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,r.default)("img[data-layzr]"),dataItem:(0,r.default)("*[data-xhr-layzr]"),init:function(t){var e=this,a=null;return(0,r.default)(window).bind("scroll",function(){clearTimeout(a),a=setTimeout(function(){d.img_each(e.imgs),d.dataEach(e.dataItem)},300)}),d.img_each(e.imgs),d.dataEach(e.dataItem),d}}},u={init:function(t){var e=this,a={anim:!0};return r.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,r.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,r.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,r.default)(this))})},act:function(t){var e=(0,r.default)(t),a=this;if(!e.attr("loaded")){var i=new Image,n=e.attr("data-layzr");i.onload=function(){e.attr("src",n).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t)},i.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t)},n&&(i.src=n),e.attr("loaded",!0)}},inViewport:function(t){var e=(0,r.default)(t),a=this.img.scroll_view.offset().top-l.default.CONFIG.PRE_LOAD,i=this.img.scroll_view.offset().top+this.op.iscroller.getViewHeight()+l.default.CONFIG.PRE_LOAD,n=e.offset().top,o=n+e.height();return o<=i&&n>=a},refreshImg:function(){this.img.imgs=(0,r.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,r.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,r.default)("img[data-layzr]"),dataItem:(0,r.default)("*[data-xhr-layzr]"),scroll_view:(0,r.default)("#scroll-view"),init:function(t){var e=this;return t.iscroller.addScrollendHandler(function(){u.img_each(e.imgs),u.dataEach(e.dataItem)}),u.img_each(e.imgs),u.dataEach(e.dataItem),u}}};t.exports={lazy:d,animaScrollLazy:u}},27:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var e,a=0,i=t.attr("data-skus"),n=t.attr("data-xhr-layzr");"loading"!=n&&"loaded"!=n&&(t.attr("data-xhr-layzr","loading"),e=(0,u.default)(t.find(".swiper-container")),m.getPriceData(i,function(n){v.renderActPrice(n,i,t),a++,2==a&&r(t,e)}),m.getStockData(i,function(i){v.renderStock(i,t),a++,2==a&&r(t,e)}))}function r(t,e){var a=t.find("li[data-goods-id]");if(a.length>8)for(var i=a.length;i>8;i--)a.eq(i-1).remove();(0,l.default)(this).find("li[data-goods-id]").length<=s.default.CONFIG.ACTGOODS_MIN&&((0,l.default)(this).prev(".item").addClass("mb10"),(0,l.default)(this).remove()),(0,h.default)(e),s.default.GLOBAL.SCROLL_OBJ&&s.default.GLOBAL.SCROLL_OBJ.refresh(),t.attr("data-xhr-layzr","loaded")}var o=a(1),l=i(o),d=a(28),u=i(d),f=a(2),s=i(f),c=a(9),h=i(c),m=a(13),v=a(15);t.exports=n},28:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var e=Swiper(t,{loop:!1,slidesPerView:"auto",freeMode:!0,preventClicks:!0,freeModeSticky:!0,freeModeMomentumRatio:.2,onInit:function(){},onClick:function(t){window.location.href=(0,o.default)(t.clickedSlide).find("a").attr("_href")}});return(0,o.default)(t).find("a").each(function(t,e){var a=(0,o.default)(this).attr("href");(0,o.default)(this).attr("_href",a).attr("href","javascript:;")}),"jdapp"!=d.default.CONFIG.VS&&(0,o.default)(window).bind("orientationchange",function(){var t=(0,o.default)("#goods-rec-wrapper li"),a=document.documentElement.clientWidth;t.css("width",Math.ceil(a/3.5)),(0,f.default)(e)}),e}var r=a(1),o=i(r),l=a(2),d=i(l),u=a(9),f=i(u);t.exports=n},44:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),o=a(1),l=i(o),d=a(5),u=function(){function t(e){n(this,t),this.opts=e,this.timerBox=e.timerBox,this.disTime=parseInt(e.timerBox.attr("data-time"),10),this.timer=null}return r(t,[{key:"_run",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this._runFuc(),this.timer=setInterval(this._runFuc.bind(this),1e3)}},{key:"_runFuc",value:function(){var t=d.timeTransform(this.disTime/1e3);(0,l.default)(".hour",this.timerBox).eq(0).text(t.hour),(0,l.default)(".minute",this.timerBox).eq(0).text(t.min),(0,l.default)(".second",this.timerBox).eq(0).text(t.sec),this.disTime-=1e3,this.disTime<0&&(clearInterval(this.timer),this.timer=null,this.opts.timeUp&&this.opts.timeUp())}}]),t}();t.exports=u},45:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),o=a(1),l=i(o),d=a(2),u=(i(d),a(13)),f=a(15),s=function(){function t(){n(this,t)}return r(t,null,[{key:"getNotifyStatus",value:function(){u.getActNotifyStatus(function(t){f.renderActNotifyStatus(t)})}},{key:"notifyEventBind",value:function(){(0,l.default)(".schedule-btn").click(function(){var t=this;"false"!=(0,l.default)(this).attr("update")&&u.notifySwitchRequest((0,l.default)(t),function(e){f.renderNotifyResult((0,l.default)(t),e)})})}}]),t}();t.exports=s}});
//# sourceMappingURL=actForTime.js.map