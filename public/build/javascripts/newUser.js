/*! created by chhuangxiaolong@jd.com */
webpackJsonp([9],{0:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var n=a(1),i=l(n),d=a(2),s=(l(d),a(3)),o=l(s),r=a(6),f=l(r),u=a(10),c=l(u),p=a(21),h=l(p),g=a(24),v=l(g),m=a(46),w=l(m),C=a(55),L=l(C),_=a(56),I=l(_),y=a(57),O=l(y),x=a(47),b=l(x),S=a(58),A=l(S);window.$=i.default,(0,f.default)(),(0,v.default)(),(0,w.default)({loadSucess:function(t){b.default.loadLogoImg(t,".gds-wrap")}}),o.default.headerInit(),c.default.init();var T=new h.default;T.init(),(0,L.default)(),(0,I.default)(),(0,O.default)(),(0,A.default)()},10:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function n(){var t,e={};(0,d.default)(".red-slider-wraper li").length>1&&(e={loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,pagination:".red-slider-pagination",onImagesReady:function(){},onInit:function(){}}),(0,d.default)(".red-slider-wraper").length&&(t=new o.default(".red-slider-wraper",e)),"jdapp"!=f.default.CONFIG.VS&&(0,d.default)(window).bind("orientationchange",function(){(0,c.default)(t)})}var i=a(1),d=l(i),s=a(8),o=l(s),r=a(2),f=l(r),u=a(9),c=l(u);t.exports={init:n}},24:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function n(){var t,e=(0,s.default)(".item"),a=(0,s.default)("#go-top"),l=(0,s.default)("#count"),n=(0,s.default)("#now"),d=(0,s.default)("#back"),f=(0,s.default)("#total"),u=o.GLOBAL.SCROLL_OBJ;if(!o.CONFIG.ANIMA_SCROLL){var c,p;return(0,s.default)("#go-top").click(function(){(0,s.default)(window).scrollTop(0)}),void(0,s.default)(window).bind("scroll",function(){c=(0,s.default)(window).scrollTop(),p=(0,s.default)(window).height(),c>=p?a.removeClass("none"):a.addClass("none")})}if(u){i(),f.text(e.length),a.click(function(){a.find(".back").hasClass("none")||(u.scrollTo(0,!0),a.addClass("none"))}),u.addScrollstartHandler(function(){e=(0,s.default)(".item"),t=u.getViewHeight(),i()});var h=0,g=0;u.addScrollingHandler(function(){var e=u.getScrollTop();r[g]&&e>=r[g].top-t&&(g++,g>r.length&&(g=r.length));var i=g-1;r[i]&&e<=r[i].top-t&&g--;var s=g;s<=0&&(s=1),s!=h&&(n.text(s),h=s),s>=8?a.removeClass("none"):a.addClass("none"),l.removeClass("none"),d.addClass("none")}),u.addScrollendHandler(function(){var t=g;t<=0&&(t=1),t>=8?a.removeClass("none"):a.addClass("none"),l.addClass("none"),d.removeClass("none")})}}function i(){var t=(0,s.default)("#scroller"),e=(0,s.default)(".item");r.length=0,e.each(function(e,a){var l=(0,s.default)(this).offset().top-t.offset().top+(0,s.default)(this).height();r.push({top:l,index:e+1})})}var d=a(1),s=l(d),o=a(2),r=[];t.exports=n},26:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var n=a(1),i=l(n),d=a(2),s=l(d),o={init:function(t){var e=this,a={anim:!0};return i.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,i.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,i.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,i.default)(this))})},act:function(t){var e=(0,i.default)(t),a=this;if(!e.attr("loaded")){var l=new Image,n=e.attr("data-layzr");a.op.srcTransform&&a.op.srcTransform(n,t)&&(n=a.op.srcTransform(n,t)),l.onload=function(){e.attr("src",n).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t,!0,l)},l.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t,!1,l)},n&&(l.src=n),e.attr("loaded",!0)}},inViewport:function(t){var e=window.pageYOffset-s.default.CONFIG.PRE_LOAD,a=window.pageYOffset+window.innerHeight+s.default.CONFIG.PRE_LOAD,l=(0,i.default)(t).offset().top,n=l+(0,i.default)(t).height();return l>=e&&n<=a},refreshImg:function(){this.img.imgs=(0,i.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,i.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,i.default)("img[data-layzr]"),dataItem:(0,i.default)("*[data-xhr-layzr]"),init:function(t){var e=this,a=null;return(0,i.default)(window).bind("scroll",function(){clearTimeout(a),a=setTimeout(function(){o.img_each(e.imgs),o.dataEach(e.dataItem)},300)}),o.img_each(e.imgs),o.dataEach(e.dataItem),o}}},r={init:function(t){var e=this,a={anim:!0};return i.default.extend(a,t),this.op=a,e.img.init(a)},img_each:function(t){var e=this;t.each(function(t,a){(0,i.default)(this).attr("data-layzr")&&e.inViewport(this)&&e.act(this)})},dataEach:function(t){var e=this;t.each(function(t,a){(0,i.default)(this).attr("data-xhr-layzr")&&e.inViewport(this)&&e.op.loadData&&e.op.loadData((0,i.default)(this))})},act:function(t){var e=(0,i.default)(t),a=this;if(!e.attr("loaded")){var l=new Image,n=e.attr("data-layzr");l.onload=function(){e.attr("src",n).removeAttr("data-layzr"),a.op.load_sucess&&a.op.load_sucess(t)},l.onerror=function(){a.op.load_sucess&&a.op.load_sucess(t)},n&&(l.src=n),e.attr("loaded",!0)}},inViewport:function(t){var e=(0,i.default)(t),a=this.img.scroll_view.offset().top-s.default.CONFIG.PRE_LOAD,l=this.img.scroll_view.offset().top+this.op.iscroller.getViewHeight()+s.default.CONFIG.PRE_LOAD,n=e.offset().top,d=n+e.height();return d<=l&&n>=a},refreshImg:function(){this.img.imgs=(0,i.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,i.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,i.default)("img[data-layzr]"),dataItem:(0,i.default)("*[data-xhr-layzr]"),scroll_view:(0,i.default)("#scroll-view"),init:function(t){var e=this;return t.iscroller.addScrollendHandler(function(){r.img_each(e.imgs),r.dataEach(e.dataItem)}),r.img_each(e.imgs),r.dataEach(e.dataItem),r}}};t.exports={lazy:o,animaScrollLazy:r}},46:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function n(t){return s.default.CONFIG.ANIMA_SCROLL?void(s.default.GLOBAL.SCROLL_OBJ&&(s.default.GLOBAL.LAZY=r.default.animaScrollLazy.init({iscroller:s.default.GLOBAL.SCROLL_OBJ,load_sucess:function(e){t.loadSucess&&t.loadSucess(e)},loadData:function(e){t.loadData&&t.loadData(e)}}))):void(s.default.GLOBAL.LAZY=r.default.lazy.init({load_sucess:function(e){t.loadSucess&&t.loadSucess(e)},loadData:function(e){t.loadData&&t.loadData(e)}}))}var i=a(1),d=(l(i),a(2)),s=l(d),o=a(26),r=l(o);t.exports=n},47:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var l=e[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,a,l){return a&&t(e.prototype,a),l&&t(e,l),e}}(),d=a(1),s=l(d),o=(a(2),function(){function t(){n(this,t)}return i(t,null,[{key:"loadLogoImg",value:function(t,e){var a=(0,s.default)(t).closest(e),l=a.find("img[data-logo-layzr]"),n=l.attr("data-logo-layzr");if((0,s.default)(t).addClass("fadeIn"),n){var i=new Image;i.onload=function(){l.attr("src",n)},i.src=n}}}]),t}());t.exports=o},55:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function n(){var t=new u.default(".newuser-filter-sec",{slidesPerView:"auto",loop:!1,preventClicks:!0,freeMode:!0,freeModeSticky:!0,onClick:function(t){i(t)},onInit:function(t){}});p.default.GLOBAL.NEW_USER.navSwiper=t,"jdapp"!=p.default.CONFIG.VS&&(0,r.default)(window).bind("orientationchange",function(){var e=(0,r.default)(".swiper-slide.active",t).get(0);e&&((0,g.default)(t),s(t,e,t,0))})}function i(t){var e=t.clickedIndex,a=(0,r.default)("#go-top"),l=(0,r.default)(".gds-list"),n=l.find("ul"),i=(0,r.default)(".type-group").eq(0);if("undefined"!=typeof e){t.slides.removeClass("active"),(0,r.default)(t.clickedSlide).addClass("active"),i.find("li").removeClass("selected"),i.find("li.all").addClass("selected"),(0,r.default)(".filter").removeClass("active").find(".icon-filter").removeClass("active"),(0,r.default)("body").attr("data-filter-now","firstCateIdStr");var s=t.clickedSlide,o=parseInt(t.width/2,10),f=s.offsetLeft,u=t.maxTranslate(),c=t.minTranslate(),h=o-f-s.offsetWidth/2;h>c?h=c:h<u&&(h=u),t.setWrapperTransition(500),t.setWrapperTranslate(h),L.attr("data-tab",t.clickedIndex),p.default.GLOBAL.NEW_USER.getMoreLoading=!1,m.default.filterConfirmFirst(function(t){a.addClass("none"),n.html(t),L.attr("data-page","1"),p.default.GLOBAL.LAZY.refreshImg(),(0,r.default)(window).scrollTop(0),d(1)})}}function d(t){var e=(0,r.default)(".skus").eq(t-1).attr("data-skus");m.default.getPriceData(e,function(t){C.default.renderNewUserPrice(e.split(","),t)})}function s(t,e,a,l){var n=(0,r.default)(".nav-fix-item"),i=parseInt(a.width()/2,10),d=e.offsetLeft+n.width(),s=t.maxTranslate(),o=t.minTranslate(),f=i-d-e.offsetWidth/2;f>o?f=o:f<s&&(f=s),t.setWrapperTransition(l),t.setWrapperTranslate(f)}var o=a(1),r=l(o),f=a(8),u=l(f),c=a(2),p=l(c),h=a(9),g=l(h),v=a(13),m=l(v),w=a(15),C=l(w),L=(0,r.default)("body");t.exports=n},56:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function n(){var t=(0,g.default)("#filter-content-box").get(0);p=new anima_ctrl.scrollview(t,{}),p.init(),(0,g.default)(window).bind("orientationchange",function(){p.refresh()}),i(),s(),f()}function i(){var t=(0,g.default)(".sale-sort"),e=(0,g.default)(".price-sort");t.click(function(){var a=(0,g.default)(this),l=e.find(".icon-sort"),n=t.find(".icon-sort");e.removeClass("active"),a.addClass("active"),l.removeClass("down").removeClass("up"),n.hasClass("up")||n.hasClass("down")?n.hasClass("down")?(y.attr("data-sort-flag","4"),n.addClass("up"),n.removeClass("down")):n.hasClass("up")&&(y.attr("data-sort-flag","0"),n.removeClass("up"),a.removeClass("active")):(y.attr("data-sort-flag","3"),n.addClass("down")),d()}),e.click(function(){var a=(0,g.default)(this),l=e.find(".icon-sort");t.removeClass("active"),a.addClass("active"),t.find(".icon-sort").removeClass("down").removeClass("up"),l.hasClass("up")||l.hasClass("down")?l.hasClass("up")?(y.attr("data-sort-flag","2"),l.removeClass("up"),l.addClass("down")):l.hasClass("down")&&(y.attr("data-sort-flag","0"),l.removeClass("down"),a.removeClass("active")):(y.attr("data-sort-flag","1"),l.addClass("up")),d()})}function d(){var t=(0,g.default)(".gds-list"),e=t.find("ul"),a=(0,g.default)("#go-top");m.default.GLOBAL.NEW_USER.getMoreLoading=!1,C.default.sortGoods(function(t){a.addClass("none"),e.html(t),y.attr("data-page","1"),y.attr("data-total-page",(0,g.default)(".skus").attr("data-total-page")),m.default.GLOBAL.LAZY.refreshImg(),(0,g.default)(window).scrollTop(0),o(1)})}function s(){var t=(0,g.default)("#filter-modal"),e=(0,g.default)(".gds-list"),a=e.find("ul");(0,g.default)(".filter").on("tap",function(){t.addClass("filter-content-show"),t.removeClass("none")}),(0,g.default)("#filter-modal .btn-text.fl").bind("tap",function(){t.removeClass("filter-content-show"),c()}),(0,g.default)("#filter-modal .btn-text.fr").bind("tap",function(){(0,g.default)(".type-group").each(function(){(0,g.default)(this).find("li").removeClass("selected").eq(0).addClass("selected")})}),(0,g.default)("#filter-modal .btn-comfirm-red").bind("click",function(){(0,g.default)("body").attr("data-filter-now","cateIdStr"),u(),t.removeClass("filter-content-show"),(0,g.default)(".type-row").eq(0).find("li.all").hasClass("selected")?(0,g.default)(".filter").removeClass("active").find(".icon-filter").removeClass("active"):(0,g.default)(".filter").addClass("active").find(".icon-filter").addClass("active"),(0,g.default)(".newuser-filter-sec li").removeClass("active"),(0,g.default)(".newuser-filter-sec li").eq(0).addClass("active");var e=(0,g.default)(".newuser-filter-sec").find("li").get(0);r(m.default.GLOBAL.NEW_USER.navSwiper,e),C.default.filterConfirm(function(t){O.addClass("none"),a.html(t),y.attr("data-page","1"),y.attr("data-total-page",(0,g.default)(".skus").attr("data-total-page")),m.default.GLOBAL.LAZY.refreshImg(),(0,g.default)(window).scrollTop(0),o(1)})})}function o(t){var e=(0,g.default)(".skus").eq(t-1).attr("data-skus");C.default.getPriceData(e,function(t){_.default.renderNewUserPrice(e.split(","),t)})}function r(t,e){var a=parseInt(t.width/2,10),l=e.offsetLeft,n=t.maxTranslate(),i=t.minTranslate(),d=a-l-e.offsetWidth/2;d>i?d=i:d<n&&(d=n),t.setWrapperTransition(0),t.setWrapperTranslate(d)}function f(){var t=null;(0,g.default)(".filter-content").bind("tap",function(e){if(null==t)t=(new Date).getTime();else{var a=(new Date).getTime();if(a-t<300)return void(t=a);t=a}var l=(0,g.default)(e.target),n=l.closest("li"),i=n.closest(".type-row"),d=(0,g.default)(".type-row").index(i);n.length&&(0==d?(i.find("li").removeClass("selected"),n.addClass("selected")):n.hasClass("all")?(i.find("li").removeClass("selected"),n.addClass("selected")):(i.find("li.all").removeClass("selected"),n.hasClass("selected")?n.removeClass("selected"):n.addClass("selected")))})}function u(){var t=(0,g.default)(".type-row").eq(0).find("li");I.typeIndex.length=0,t.each(function(t,e){(0,g.default)(this).hasClass("selected")&&I.typeIndex.push(t)})}function c(){var t=(0,g.default)(".type-row").eq(0).find("li");t.removeClass("selected").eq(I.typeIndex[0]).addClass("selected")}Object.defineProperty(e,"__esModule",{value:!0});var p,h=a(1),g=l(h),v=a(2),m=l(v),w=a(13),C=l(w),L=a(15),_=l(L),I={typeIndex:[0],sizeIndex:[0],colorIndex:[0]},y=(0,g.default)("body"),O=(0,g.default)("#go-top");e.default=n},57:function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function n(){var t=parseInt(w.attr("data-total-page"),10);return isNaN(t)?((0,o.default)("#filter-box").remove(),(0,o.default)("#gds-list").remove(),void(0,o.default)(".no-goods").removeClass("none")):(d(1),void(0,o.default)(window).bind("scroll",function(){i()}))}function i(){function t(){if(!f.default.GLOBAL.NEW_USER.getMoreLoading){f.default.GLOBAL.NEW_USER.getMoreLoading=!0;var t=parseInt(w.attr("data-page"),10)+1,e=parseInt(w.attr("data-total-page"),10);t>e||u.newUserGdsListPage(function(e){g.append(e),f.default.GLOBAL.LAZY.refreshImg(),f.default.GLOBAL.NEW_USER.getMoreLoading=!1,d(t)})}}if(v.length){var e=m.scrollTop(),a=p.height(),l=p.offset().top+a;C+e>=l&&t()}else t()}function d(t){var e=(0,o.default)(".skus").eq(t-1).attr("data-skus");u.getPriceData(e,function(t){c.renderNewUserPrice(e,t)}),u.newUserStockGet(e,function(t){c.renderNewUserStock(t)})}Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),o=l(s),r=a(2),f=l(r),u=a(13),c=a(15),p=(0,o.default)(".gds-list"),h=(0,o.default)(".gds-list a"),g=p.find("ul"),v=h.eq(0),m=(0,o.default)(window),w=(0,o.default)("body"),C=m.height();e.default=n},58:function(t,e){"use strict";function a(){var t,e,a,l=$(window),n=$(".new-user-msg"),i=$("#filter-box"),d=$("#gds-list");l.bind("scroll",function(){t=l.scrollTop(),e=n.offset().top+n.height(),a=i.length?i.height():0,t>=e?(i.addClass("fix"),d.css("padding-top",a+"px")):(i.removeClass("fix"),d.css("padding-top","0px"))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}});
//# sourceMappingURL=newUser.js.map