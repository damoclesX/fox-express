/*! created by chhuangxiaolong@jd.com */
webpackJsonp([14],{0:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=e(1),o=i(n),r=e(2),d=(i(r),e(3)),l=i(d),u=e(6),f=i(u),s=e(10),c=i(s),h=e(21),g=i(h),m=e(24),p=i(m),v=e(25),w=i(v),_=e(33),y=i(_),O=e(68),L=i(O),S=e(13),k=(i(S),e(15));i(k);window.$=o.default,(0,f.default)(),(0,p.default)(),(0,w.default)(),l.default.headerInit(),c.default.init();var C=new L.default;C.loadPrice(),C.loadStock(),C.actStrTransform();var I=new g.default;I.init(),(0,y.default)()},10:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){var t,a={};(0,r.default)(".red-slider-wraper li").length>1&&(a={loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,pagination:".red-slider-pagination",onImagesReady:function(){},onInit:function(){}}),(0,r.default)(".red-slider-wraper").length&&(t=new l.default(".red-slider-wraper",a)),"jdapp"!=f.default.CONFIG.VS&&(0,r.default)(window).bind("orientationchange",function(){(0,c.default)(t)})}var o=e(1),r=i(o),d=e(8),l=i(d),u=e(2),f=i(u),s=e(9),c=i(s);t.exports={init:n}},24:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){var t,a=(0,d.default)(".item"),e=(0,d.default)("#go-top"),i=(0,d.default)("#count"),n=(0,d.default)("#now"),r=(0,d.default)("#back"),f=(0,d.default)("#total"),s=l.GLOBAL.SCROLL_OBJ;if(!l.CONFIG.ANIMA_SCROLL){var c,h;return(0,d.default)("#go-top").click(function(){(0,d.default)(window).scrollTop(0)}),void(0,d.default)(window).bind("scroll",function(){c=(0,d.default)(window).scrollTop(),h=(0,d.default)(window).height(),c>=h?e.removeClass("none"):e.addClass("none")})}if(s){o(),f.text(a.length),e.click(function(){e.find(".back").hasClass("none")||(s.scrollTo(0,!0),e.addClass("none"))}),s.addScrollstartHandler(function(){a=(0,d.default)(".item"),t=s.getViewHeight(),o()});var g=0,m=0;s.addScrollingHandler(function(){var a=s.getScrollTop();u[m]&&a>=u[m].top-t&&(m++,m>u.length&&(m=u.length));var o=m-1;u[o]&&a<=u[o].top-t&&m--;var d=m;d<=0&&(d=1),d!=g&&(n.text(d),g=d),d>=8?e.removeClass("none"):e.addClass("none"),i.removeClass("none"),r.addClass("none")}),s.addScrollendHandler(function(){var t=m;t<=0&&(t=1),t>=8?e.removeClass("none"):e.addClass("none"),i.addClass("none"),r.removeClass("none")})}}function o(){var t=(0,d.default)("#scroller"),a=(0,d.default)(".item");u.length=0,a.each(function(a,e){var i=(0,d.default)(this).offset().top-t.offset().top+(0,d.default)(this).height();u.push({top:i,index:a+1})})}var r=e(1),d=i(r),l=e(2),u=[];t.exports=n},25:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){return l.default.CONFIG.ANIMA_SCROLL?void(l.default.GLOBAL.SCROLL_OBJ&&(l.default.GLOBAL.LAZY=f.default.animaScrollLazy.init({iscroller:l.default.GLOBAL.SCROLL_OBJ,load_sucess:function(t){var a=(0,r.default)(t).closest(".item"),e=a.find("img[data-logo-layzr]"),i=e.attr("data-logo-layzr");if(i){var n=new Image;n.onload=function(){e.attr("src",i)},n.src=i}},loadData:function(t){}}))):void(l.default.GLOBAL.LAZY=f.default.lazy.init({load_sucess:function(t){var a=(0,r.default)(t).closest(".item"),e=a.find("img[data-logo-layzr]"),i=e.attr("data-logo-layzr");if((0,r.default)(t).addClass("fadeIn"),i){var n=new Image;n.onload=function(){e.attr("src",i)},n.src=i}},loadData:function(t){}}))}var o=e(1),r=i(o),d=e(2),l=i(d),u=e(26),f=i(u),s=e(27);i(s);t.exports=n},26:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=e(1),o=i(n),r=e(2),d=i(r),l={init:function(t){var a=this,e={anim:!0};return o.default.extend(e,t),this.op=e,a.img.init(e)},img_each:function(t){var a=this;t.each(function(t,e){(0,o.default)(this).attr("data-layzr")&&a.inViewport(this)&&a.act(this)})},dataEach:function(t){var a=this;t.each(function(t,e){(0,o.default)(this).attr("data-xhr-layzr")&&a.inViewport(this)&&a.op.loadData&&a.op.loadData((0,o.default)(this))})},act:function(t){var a=(0,o.default)(t),e=this;if(!a.attr("loaded")){var i=new Image,n=a.attr("data-layzr");e.op.srcTransform&&e.op.srcTransform(n,t)&&(n=e.op.srcTransform(n,t)),i.onload=function(){a.attr("src",n).removeAttr("data-layzr"),e.op.load_sucess&&e.op.load_sucess(t,!0,i)},i.onerror=function(){e.op.load_sucess&&e.op.load_sucess(t,!1,i)},n&&(i.src=n),a.attr("loaded",!0)}},inViewport:function(t){var a=window.pageYOffset-d.default.CONFIG.PRE_LOAD,e=window.pageYOffset+window.innerHeight+d.default.CONFIG.PRE_LOAD,i=(0,o.default)(t).offset().top,n=i+(0,o.default)(t).height();return i>=a&&n<=e},refreshImg:function(){this.img.imgs=(0,o.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,o.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,o.default)("img[data-layzr]"),dataItem:(0,o.default)("*[data-xhr-layzr]"),init:function(t){var a=this,e=null;return(0,o.default)(window).bind("scroll",function(){clearTimeout(e),e=setTimeout(function(){l.img_each(a.imgs),l.dataEach(a.dataItem)},300)}),l.img_each(a.imgs),l.dataEach(a.dataItem),l}}},u={init:function(t){var a=this,e={anim:!0};return o.default.extend(e,t),this.op=e,a.img.init(e)},img_each:function(t){var a=this;t.each(function(t,e){(0,o.default)(this).attr("data-layzr")&&a.inViewport(this)&&a.act(this)})},dataEach:function(t){var a=this;t.each(function(t,e){(0,o.default)(this).attr("data-xhr-layzr")&&a.inViewport(this)&&a.op.loadData&&a.op.loadData((0,o.default)(this))})},act:function(t){var a=(0,o.default)(t),e=this;if(!a.attr("loaded")){var i=new Image,n=a.attr("data-layzr");i.onload=function(){a.attr("src",n).removeAttr("data-layzr"),e.op.load_sucess&&e.op.load_sucess(t)},i.onerror=function(){e.op.load_sucess&&e.op.load_sucess(t)},n&&(i.src=n),a.attr("loaded",!0)}},inViewport:function(t){var a=(0,o.default)(t),e=this.img.scroll_view.offset().top-d.default.CONFIG.PRE_LOAD,i=this.img.scroll_view.offset().top+this.op.iscroller.getViewHeight()+d.default.CONFIG.PRE_LOAD,n=a.offset().top,r=n+a.height();return r<=i&&n>=e},refreshImg:function(){this.img.imgs=(0,o.default)("img[data-layzr]"),this.img_each(this.img.imgs),this.img.dataItem=(0,o.default)("*[data-xhr-layzr]"),this.dataEach(this.img.dataItem)},img:{imgs:(0,o.default)("img[data-layzr]"),dataItem:(0,o.default)("*[data-xhr-layzr]"),scroll_view:(0,o.default)("#scroll-view"),init:function(t){var a=this;return t.iscroller.addScrollendHandler(function(){u.img_each(a.imgs),u.dataEach(a.dataItem)}),u.img_each(a.imgs),u.dataEach(a.dataItem),u}}};t.exports={lazy:l,animaScrollLazy:u}},27:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var a,e=0,i=t.attr("data-skus"),n=t.attr("data-xhr-layzr");"loading"!=n&&"loaded"!=n&&(t.attr("data-xhr-layzr","loading"),a=(0,u.default)(t.find(".swiper-container")),g.getPriceData(i,function(n){m.renderActPrice(n,i,t),e++,2==e&&o(t,a)}),g.getStockData(i,function(i){m.renderStock(i,t),e++,2==e&&o(t,a)}))}function o(t,a){var e=t.find("li[data-goods-id]");if(e.length>8)for(var i=e.length;i>8;i--)e.eq(i-1).remove();(0,d.default)(this).find("li[data-goods-id]").length<=s.default.CONFIG.ACTGOODS_MIN&&((0,d.default)(this).prev(".item").addClass("mb10"),(0,d.default)(this).remove()),(0,h.default)(a),s.default.GLOBAL.SCROLL_OBJ&&s.default.GLOBAL.SCROLL_OBJ.refresh(),t.attr("data-xhr-layzr","loaded")}var r=e(1),d=i(r),l=e(28),u=i(l),f=e(2),s=i(f),c=e(9),h=i(c),g=e(13),m=e(15);t.exports=n},28:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var a=Swiper(t,{loop:!1,slidesPerView:"auto",freeMode:!0,preventClicks:!0,freeModeSticky:!0,freeModeMomentumRatio:.2,onInit:function(){},onClick:function(t){window.location.href=(0,r.default)(t.clickedSlide).find("a").attr("_href")}});return(0,r.default)(t).find("a").each(function(t,a){var e=(0,r.default)(this).attr("href");(0,r.default)(this).attr("_href",e).attr("href","javascript:;")}),"jdapp"!=l.default.CONFIG.VS&&(0,r.default)(window).bind("orientationchange",function(){var t=(0,r.default)("#goods-rec-wrapper li"),e=document.documentElement.clientWidth;t.css("width",Math.ceil(e/3.5)),(0,f.default)(a)}),a}var o=e(1),r=i(o),d=e(2),l=i(d),u=e(9),f=i(u);t.exports=n},33:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(){var t=(0,r.default)("body").attr("data-type");(0,r.default)("#footer-nav").length&&(0,r.default)("#footer-nav a").each(function(a,e){var i=(0,r.default)(this),n=i.attr("type");n==t?(i.closest("li").addClass("active"),i.append('<img src="'+i.attr("img_active")+'">')):i.append('<img src="'+i.attr("img")+'">')})}var o=e(1),r=i(o);t.exports=n},68:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function t(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(a,e,i){return e&&t(a.prototype,e),i&&t(a,i),a}}(),r=e(1),d=i(r),l=e(2),u=(i(l),e(13)),f=i(u),s=e(15),c=i(s),h=function(){function t(){n(this,t);var a=(0,d.default)("#sku-list .top-item"),e=[],i="";a.each(function(t,a){e.push((0,d.default)(this).attr("data-sku"))}),i=e.join(","),this.priceAndStock=0,this.skusStr=i}return o(t,[{key:"loadPrice",value:function(){var t=this;f.default.getPriceData(t.skusStr,function(a){c.default.renderTopPrice(a,t.skusStr),t.priceAndStock++,t.addTag(),2==t.priceAndStock&&t.clearList()})}},{key:"loadStock",value:function(){var t=this;f.default.getStockData(t.skusStr,function(a){c.default.renderTopStock(a,t.skusStr),t.priceAndStock++,t.addTag(),2==t.priceAndStock&&clearList(filterContent)})}},{key:"actStrTransform",value:function(){var t=(0,d.default)("#sku-list .act-title");t.each(function(t,a){var e=(0,d.default)(this).find(".act-name"),i=(0,d.default)(this).find(".act-info");e.text();i.length&&(i.text().length<=2&&e.text().indexOf(">")==-1&&e.text(e.text()+" >"),e.width()+i.width()>(0,d.default)(this).width()&&i.width((0,d.default)(this).width()-e.width()-15))})}},{key:"clearList",value:function(){(0,d.default)("#sku-list .top-item").each(function(t,a){t>49&&(0,d.default)(this).remove()})}},{key:"addTag",value:function(){(0,d.default)("#sku-list .top-item").each(function(t,a){(0,d.default)(this).find(".top-tag").text(t+1)})}}]),t}();a.default=h}});
//# sourceMappingURL=top.js.map